<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <title>
  GCC ? · Michael Shalitin
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">


<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self' https://www.youtube.com; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' default-src 'unsafe-eval' https://www.google-analytics.com https://cdn.jsdelivr.net/ https://static.cloudflareinsights.com https://cloudflareinsights.com; connect-src 'self' https://www.google-analytics.com https://static.cloudflareinsights.com https://cloudflareinsights.com;">




<meta name="author" content="Michael Shalitin">
<meta name="description" content="https://0xax.gitbooks.io/linux-insides/content/Theory/linux-theory-3.html
https://gcc.gnu.org/onlinedocs/gcc/Constraints.html
https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html
https://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html

  אילוצים (Constraints) ל-Assembly inlines
  
    
    Link to heading
  

אילוצים יכולים לומר אם אופרנד עשוי להיות ברגיסטר, ואיזה סוגים של רגיסטר; האם האופרנד יכול להיות הפניה לזיכרון, ואילו סוגי כתובת; האם האופרנד עשוי להיות קבוע מיידי, ואילו ערכים אפשריים עשויים להיות לו. אילוצים יכולים גם לדרוש שני אופרנדים כדי להתאים. תופעות לוואי אינן מותרות באופרנדים של inline asm, אלא אם נעשה שימוש באילוצים של &lt; או &gt; מכיוון שאין ערובה שתופעות הלוואי יתרחשו בדיוק פעם אחת בהוראה שיכולה לעדכן את רגיסטר הכתובות.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="GCC ?">
  <meta name="twitter:description" content="https://0xax.gitbooks.io/linux-insides/content/Theory/linux-theory-3.html https://gcc.gnu.org/onlinedocs/gcc/Constraints.html https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html https://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html
אילוצים (Constraints) ל-Assembly inlines Link to heading אילוצים יכולים לומר אם אופרנד עשוי להיות ברגיסטר, ואיזה סוגים של רגיסטר; האם האופרנד יכול להיות הפניה לזיכרון, ואילו סוגי כתובת; האם האופרנד עשוי להיות קבוע מיידי, ואילו ערכים אפשריים עשויים להיות לו. אילוצים יכולים גם לדרוש שני אופרנדים כדי להתאים. תופעות לוואי אינן מותרות באופרנדים של inline asm, אלא אם נעשה שימוש באילוצים של &lt; או &gt; מכיוון שאין ערובה שתופעות הלוואי יתרחשו בדיוק פעם אחת בהוראה שיכולה לעדכן את רגיסטר הכתובות.">

<meta property="og:url" content="https://smichaelshal.github.io/he/posts/compiler/gcc-/">
  <meta property="og:site_name" content="Michael Shalitin">
  <meta property="og:title" content="GCC ?">
  <meta property="og:description" content="https://0xax.gitbooks.io/linux-insides/content/Theory/linux-theory-3.html https://gcc.gnu.org/onlinedocs/gcc/Constraints.html https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html https://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html
אילוצים (Constraints) ל-Assembly inlines Link to heading אילוצים יכולים לומר אם אופרנד עשוי להיות ברגיסטר, ואיזה סוגים של רגיסטר; האם האופרנד יכול להיות הפניה לזיכרון, ואילו סוגי כתובת; האם האופרנד עשוי להיות קבוע מיידי, ואילו ערכים אפשריים עשויים להיות לו. אילוצים יכולים גם לדרוש שני אופרנדים כדי להתאים. תופעות לוואי אינן מותרות באופרנדים של inline asm, אלא אם נעשה שימוש באילוצים של &lt; או &gt; מכיוון שאין ערובה שתופעות הלוואי יתרחשו בדיוק פעם אחת בהוראה שיכולה לעדכן את רגיסטר הכתובות.">
  <meta property="og:locale" content="he">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-01-18T00:00:00+00:00">




<link rel="canonical" href="https://smichaelshal.github.io/he/posts/compiler/gcc-/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.6c967191184c40e901e41977158c33a73a2cfa2d9413cf73dddd6732eeae7af4.css" integrity="sha256-bJZxkRhMQOkB5Bl3FYwzpzos&#43;i2UE89z3d1nMu6uevQ=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://smichaelshal.github.io/he/">
      Michael Shalitin
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/he/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/he/posts/">Blog</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/posts/compiler/gcc-/">🇬🇧</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://smichaelshal.github.io/he/posts/compiler/gcc-/">
              GCC ?
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2025-01-18T00:00:00Z">
                ינואר 18, 2025
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-newspaper" aria-hidden="true"></i>
                273 מילים
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <p><a href="https://0xax.gitbooks.io/linux-insides/content/Theory/linux-theory-3.html"  class="external-link" target="_blank" rel="noopener">https://0xax.gitbooks.io/linux-insides/content/Theory/linux-theory-3.html</a>
<a href="https://gcc.gnu.org/onlinedocs/gcc/Constraints.html"  class="external-link" target="_blank" rel="noopener">https://gcc.gnu.org/onlinedocs/gcc/Constraints.html</a>
<a href="https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html"  class="external-link" target="_blank" rel="noopener">https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html</a>
<a href="https://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html"  class="external-link" target="_blank" rel="noopener">https://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html</a></p>
<h2 id="אילוצים-constraints-ל-assembly-inlines">
  אילוצים (Constraints) ל-Assembly inlines
  <a class="heading-link" href="#%d7%90%d7%99%d7%9c%d7%95%d7%a6%d7%99%d7%9d-constraints-%d7%9c-assembly-inlines">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>אילוצים יכולים לומר אם אופרנד עשוי להיות ברגיסטר, ואיזה סוגים של רגיסטר; האם האופרנד יכול להיות הפניה לזיכרון, ואילו סוגי כתובת; האם האופרנד עשוי להיות קבוע מיידי, ואילו ערכים אפשריים עשויים להיות לו. אילוצים יכולים גם לדרוש שני אופרנדים כדי להתאים. תופעות לוואי אינן מותרות באופרנדים של inline asm, אלא אם נעשה שימוש באילוצים של <code>&lt;</code> או <code>&gt;</code> מכיוון שאין ערובה שתופעות הלוואי יתרחשו בדיוק פעם אחת בהוראה שיכולה לעדכן את רגיסטר הכתובות.</p>
<h3 id="סוגי-אילוצים">
  סוגי אילוצים
  <a class="heading-link" href="#%d7%a1%d7%95%d7%92%d7%99-%d7%90%d7%99%d7%9c%d7%95%d7%a6%d7%99%d7%9d">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="m">
  m
  <a class="heading-link" href="#m">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>האילוץ גורם ל-gcc להשתמש בזכרון של האופרנד, כלומר הוא מייצג אופרנד זיכרון.</p>
<h4 id="r">
  r
  <a class="heading-link" href="#r">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>אילוץ שמייצג רגיסטר</p>
<ul>
<li>אופרנדים המשתמשים במשנה האילוץ <code>+</code> נספרים כשני אופרנדים (כלומר, גם כקלט וגם כפלט) לקראת המקסימום הכולל של 30 אופרנדים לכל משפט asm.</li>
<li>אילוץ <code>m</code> הוא אומר שהאופרד יפעל על זיכרון.</li>
</ul>
<p>ה-<code>memory</code> היא סוג של clobber שאומר לקומפיילר שהקוד אסמבלי מבצע קריאת זיכרון או כתיבה לפריטים אחרים מאלה הרשומים באופרנדים של הקלט והפלט (לדוגמה, גישה לזיכרון שעליו מצביע אחד מפרמטרי הקלט). כדי להבטיח שהזיכרון מכיל ערכים נכונים, ייתכן ש-GCC יצטרך לשטוף (flush) ערכי רגיסטרים ספציפיים לזיכרון לפני ביצוע ה-ASM. יתר על כן, הקומפיילר אינו מניח שערכים כלשהם הנקראים מהזיכרון לפני ה- ASM נשארים ללא שינוי לאחר ה-ASM זה; זה טוען אותם מחדש לפי הצורך. השימוש ב&quot;זיכרון&quot; clobber יוצר למעשה מחסום זיכרון קריאה/כתיבה עבור הקומפיילר.</p>
<p>שימו לב שה-clobber הזה לא מונע מהמעבד לבצע קריאות ספקולטיביות מעבר להצהרת asm. כדי למנוע זאת, אתה צריך הוראות גדר ספציפיות למעבד.</p>
<p>הוא אומר לקומפיילר שהקוד אסמבלי מבצע קריאת זיכרון או כתיבה לפריטים אחרים מאלה הרשומים באופרנדים של הקלט והפלט (לדוגמה, גישה לזיכרון שעליו מצביע אחד מפרמטרי הקלט).</p>

      </div>


      <footer>
        
        


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script><style>
  .katex {
    direction: ltr;
    display: inline-flex;
    flex-direction: row-reverse;
    unicode-bidi: embed;
  }
</style>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     Michael Shalitin 
    ·
    
    מופעל על ידי <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  
<script defer src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "316bf5f2576c4cb68b54c0b2a91cb739"}'></script>



  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
