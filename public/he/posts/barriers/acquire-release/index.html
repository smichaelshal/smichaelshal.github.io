<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <title>
  Acquire Release ¬∑ Michael Shalitin
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">


<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self' https://www.youtube.com; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' default-src 'unsafe-eval' https://www.google-analytics.com https://cdn.jsdelivr.net/ https://static.cloudflareinsights.com https://cloudflareinsights.com; connect-src 'self' https://www.google-analytics.com https://static.cloudflareinsights.com https://cloudflareinsights.com;">




<meta name="author" content="Michael Shalitin">
<meta name="description" content="
  ◊û◊ë◊ï◊ê
  
    
    Link to heading
  

◊î◊î◊ï◊®◊ê◊ï◊™ ◊û◊°◊ï◊í load-acquire ◊ï-store-release, ◊õ◊ï◊ú◊ú◊ï◊™ ◊û◊ó◊°◊ï◊û◊ô◊ù ◊û◊ï◊ë◊†◊ô◊ù ◊ó◊ì-◊õ◊ô◊ï◊ï◊†◊ô◊ô◊ù, ◊î◊û◊ê◊§◊©◊®◊ô◊ù ◊ì◊®◊ô◊©◊ï◊™ ◊°◊ì◊® ◊ó◊ú◊©◊ï◊™ ◊û◊û◊ó◊°◊ï◊û◊ô◊ù ◊õ◊ú◊ú◊ô◊ô◊ù. ◊î◊ü ◊û◊©◊§◊ô◊¢◊ï◊™ ◊¢◊ú ◊î◊°◊ì◊® ◊©◊ú ◊í◊ô◊©◊î ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊§◊ï◊®◊© ◊©◊¶◊ï◊ô◊†◊ï ◊©◊†◊û◊¶◊ê ◊ë◊õ◊ú ◊¶◊ì ◊©◊ú ◊î◊ï◊®◊ê◊™ ◊û◊ó◊°◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü. ◊ê◊ï◊§◊ô ◊ñ◊î ◊û◊ê◊§◊©◊® ◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊û◊©◊ï◊§◊®◊ô◊ù ◊ë◊ñ◊õ◊ï◊™ ◊ê◊ï◊§◊ò◊ô◊û◊ô◊ñ◊¶◊ô◊ï◊™ ◊û◊ô◊ß◊®◊ï-◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊†◊ô◊ï◊™ ◊ï◊û◊¶◊û◊¶◊ù ◊ê◊™ ◊î◊©◊§◊¢◊™ ◊î◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊ú◊¢◊ï◊û◊™ ◊û◊ó◊°◊ï◊ù ◊ñ◊ô◊õ◊®◊ï◊ü ◊õ◊ú◊ú◊ô.
◊õ◊ê◊©◊® ◊î◊°◊ì◊® ◊î◊†◊ì◊®◊© ◊†◊™◊û◊ö ◊¢◊ú ◊ô◊ì◊ô load-acquire ◊ê◊ï store-release, ◊û◊ï◊û◊ú◊• ◊ú◊î◊©◊™◊û◊© ◊ë◊î◊ü ◊ë◊û◊ß◊ï◊ù ◊ë◊û◊ó◊°◊ï◊ù ◊õ◊ú◊ú◊ô ◊õ◊ì◊ô ◊ú◊©◊§◊® ◊ê◊™ ◊î◊ô◊¢◊ô◊ú◊ï◊™.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Acquire Release">
  <meta name="twitter:description" content="◊û◊ë◊ï◊ê Link to heading ◊î◊î◊ï◊®◊ê◊ï◊™ ◊û◊°◊ï◊í load-acquire ◊ï-store-release, ◊õ◊ï◊ú◊ú◊ï◊™ ◊û◊ó◊°◊ï◊û◊ô◊ù ◊û◊ï◊ë◊†◊ô◊ù ◊ó◊ì-◊õ◊ô◊ï◊ï◊†◊ô◊ô◊ù, ◊î◊û◊ê◊§◊©◊®◊ô◊ù ◊ì◊®◊ô◊©◊ï◊™ ◊°◊ì◊® ◊ó◊ú◊©◊ï◊™ ◊û◊û◊ó◊°◊ï◊û◊ô◊ù ◊õ◊ú◊ú◊ô◊ô◊ù. ◊î◊ü ◊û◊©◊§◊ô◊¢◊ï◊™ ◊¢◊ú ◊î◊°◊ì◊® ◊©◊ú ◊í◊ô◊©◊î ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊§◊ï◊®◊© ◊©◊¶◊ï◊ô◊†◊ï ◊©◊†◊û◊¶◊ê ◊ë◊õ◊ú ◊¶◊ì ◊©◊ú ◊î◊ï◊®◊ê◊™ ◊û◊ó◊°◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü. ◊ê◊ï◊§◊ô ◊ñ◊î ◊û◊ê◊§◊©◊® ◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊û◊©◊ï◊§◊®◊ô◊ù ◊ë◊ñ◊õ◊ï◊™ ◊ê◊ï◊§◊ò◊ô◊û◊ô◊ñ◊¶◊ô◊ï◊™ ◊û◊ô◊ß◊®◊ï-◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊†◊ô◊ï◊™ ◊ï◊û◊¶◊û◊¶◊ù ◊ê◊™ ◊î◊©◊§◊¢◊™ ◊î◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊ú◊¢◊ï◊û◊™ ◊û◊ó◊°◊ï◊ù ◊ñ◊ô◊õ◊®◊ï◊ü ◊õ◊ú◊ú◊ô.
◊õ◊ê◊©◊® ◊î◊°◊ì◊® ◊î◊†◊ì◊®◊© ◊†◊™◊û◊ö ◊¢◊ú ◊ô◊ì◊ô load-acquire ◊ê◊ï store-release, ◊û◊ï◊û◊ú◊• ◊ú◊î◊©◊™◊û◊© ◊ë◊î◊ü ◊ë◊û◊ß◊ï◊ù ◊ë◊û◊ó◊°◊ï◊ù ◊õ◊ú◊ú◊ô ◊õ◊ì◊ô ◊ú◊©◊§◊® ◊ê◊™ ◊î◊ô◊¢◊ô◊ú◊ï◊™.">

<meta property="og:url" content="https://smichaelshal.github.io/he/posts/barriers/acquire-release/">
  <meta property="og:site_name" content="Michael Shalitin">
  <meta property="og:title" content="Acquire Release">
  <meta property="og:description" content="◊û◊ë◊ï◊ê Link to heading ◊î◊î◊ï◊®◊ê◊ï◊™ ◊û◊°◊ï◊í load-acquire ◊ï-store-release, ◊õ◊ï◊ú◊ú◊ï◊™ ◊û◊ó◊°◊ï◊û◊ô◊ù ◊û◊ï◊ë◊†◊ô◊ù ◊ó◊ì-◊õ◊ô◊ï◊ï◊†◊ô◊ô◊ù, ◊î◊û◊ê◊§◊©◊®◊ô◊ù ◊ì◊®◊ô◊©◊ï◊™ ◊°◊ì◊® ◊ó◊ú◊©◊ï◊™ ◊û◊û◊ó◊°◊ï◊û◊ô◊ù ◊õ◊ú◊ú◊ô◊ô◊ù. ◊î◊ü ◊û◊©◊§◊ô◊¢◊ï◊™ ◊¢◊ú ◊î◊°◊ì◊® ◊©◊ú ◊í◊ô◊©◊î ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊§◊ï◊®◊© ◊©◊¶◊ï◊ô◊†◊ï ◊©◊†◊û◊¶◊ê ◊ë◊õ◊ú ◊¶◊ì ◊©◊ú ◊î◊ï◊®◊ê◊™ ◊û◊ó◊°◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü. ◊ê◊ï◊§◊ô ◊ñ◊î ◊û◊ê◊§◊©◊® ◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊û◊©◊ï◊§◊®◊ô◊ù ◊ë◊ñ◊õ◊ï◊™ ◊ê◊ï◊§◊ò◊ô◊û◊ô◊ñ◊¶◊ô◊ï◊™ ◊û◊ô◊ß◊®◊ï-◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊†◊ô◊ï◊™ ◊ï◊û◊¶◊û◊¶◊ù ◊ê◊™ ◊î◊©◊§◊¢◊™ ◊î◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊ú◊¢◊ï◊û◊™ ◊û◊ó◊°◊ï◊ù ◊ñ◊ô◊õ◊®◊ï◊ü ◊õ◊ú◊ú◊ô.
◊õ◊ê◊©◊® ◊î◊°◊ì◊® ◊î◊†◊ì◊®◊© ◊†◊™◊û◊ö ◊¢◊ú ◊ô◊ì◊ô load-acquire ◊ê◊ï store-release, ◊û◊ï◊û◊ú◊• ◊ú◊î◊©◊™◊û◊© ◊ë◊î◊ü ◊ë◊û◊ß◊ï◊ù ◊ë◊û◊ó◊°◊ï◊ù ◊õ◊ú◊ú◊ô ◊õ◊ì◊ô ◊ú◊©◊§◊® ◊ê◊™ ◊î◊ô◊¢◊ô◊ú◊ï◊™.">
  <meta property="og:locale" content="he">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-02T00:00:00+00:00">
    <meta property="article:tag" content="Barrier">
    <meta property="article:tag" content="Memory">
    <meta property="article:tag" content="Memory-Barrier">
    <meta property="article:tag" content="Cpu">
    <meta property="article:tag" content="Ordering">
    <meta property="article:tag" content="Cache">
      <meta property="og:see_also" content="https://smichaelshal.github.io/he/posts/barriers/amba-ace-barrier/">
      <meta property="og:see_also" content="https://smichaelshal.github.io/he/posts/barriers/mb/">




<link rel="canonical" href="https://smichaelshal.github.io/he/posts/barriers/acquire-release/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.6c967191184c40e901e41977158c33a73a2cfa2d9413cf73dddd6732eeae7af4.css" integrity="sha256-bJZxkRhMQOkB5Bl3FYwzpzos&#43;i2UE89z3d1nMu6uevQ=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://smichaelshal.github.io/he/">
      Michael Shalitin
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/he/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/he/posts/">Blog</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/posts/barriers/acquire-release/">üá¨üáß</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://smichaelshal.github.io/he/posts/barriers/acquire-release/">
              Acquire Release
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2024-11-02T00:00:00Z">
                ◊†◊ï◊ë◊û◊ë◊® 2, 2024
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-newspaper" aria-hidden="true"></i>
                3132 ◊û◊ô◊ú◊ô◊ù
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/he/categories/barriers/">Barriers</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/he/tags/barrier/">Barrier</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/memory/">Memory</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/memory-barrier/">Memory-Barrier</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/cpu/">Cpu</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/ordering/">Ordering</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/cache/">Cache</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/x86/">X86</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/arm/">Arm</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/ppc/">Ppc</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/linux/">Linux</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/kernel/">Kernel</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/asm/">Asm</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/release/">Release</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/acquire/">Acquire</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/release-acquire/">Release-Acquire</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="/he/tags/multi-copy-atomicity/">Multi-Copy-Atomicity</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <h1 id="◊û◊ë◊ï◊ê">
  ◊û◊ë◊ï◊ê
  <a class="heading-link" href="#%d7%9e%d7%91%d7%95%d7%90">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>◊î◊î◊ï◊®◊ê◊ï◊™ ◊û◊°◊ï◊í load-acquire ◊ï-store-release, ◊õ◊ï◊ú◊ú◊ï◊™ ◊û◊ó◊°◊ï◊û◊ô◊ù ◊û◊ï◊ë◊†◊ô◊ù ◊ó◊ì-◊õ◊ô◊ï◊ï◊†◊ô◊ô◊ù, ◊î◊û◊ê◊§◊©◊®◊ô◊ù ◊ì◊®◊ô◊©◊ï◊™ ◊°◊ì◊® ◊ó◊ú◊©◊ï◊™ ◊û◊û◊ó◊°◊ï◊û◊ô◊ù ◊õ◊ú◊ú◊ô◊ô◊ù. ◊î◊ü ◊û◊©◊§◊ô◊¢◊ï◊™ ◊¢◊ú ◊î◊°◊ì◊® ◊©◊ú ◊í◊ô◊©◊î ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊§◊ï◊®◊© ◊©◊¶◊ï◊ô◊†◊ï ◊©◊†◊û◊¶◊ê ◊ë◊õ◊ú ◊¶◊ì ◊©◊ú ◊î◊ï◊®◊ê◊™ ◊û◊ó◊°◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü. ◊ê◊ï◊§◊ô ◊ñ◊î ◊û◊ê◊§◊©◊® ◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊û◊©◊ï◊§◊®◊ô◊ù ◊ë◊ñ◊õ◊ï◊™ ◊ê◊ï◊§◊ò◊ô◊û◊ô◊ñ◊¶◊ô◊ï◊™ ◊û◊ô◊ß◊®◊ï-◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊†◊ô◊ï◊™ ◊ï◊û◊¶◊û◊¶◊ù ◊ê◊™ ◊î◊©◊§◊¢◊™ ◊î◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊ú◊¢◊ï◊û◊™ ◊û◊ó◊°◊ï◊ù ◊ñ◊ô◊õ◊®◊ï◊ü ◊õ◊ú◊ú◊ô.</p>
<p>◊õ◊ê◊©◊® ◊î◊°◊ì◊® ◊î◊†◊ì◊®◊© ◊†◊™◊û◊ö ◊¢◊ú ◊ô◊ì◊ô load-acquire ◊ê◊ï store-release, ◊û◊ï◊û◊ú◊• ◊ú◊î◊©◊™◊û◊© ◊ë◊î◊ü ◊ë◊û◊ß◊ï◊ù ◊ë◊û◊ó◊°◊ï◊ù ◊õ◊ú◊ú◊ô ◊õ◊ì◊ô ◊ú◊©◊§◊® ◊ê◊™ ◊î◊ô◊¢◊ô◊ú◊ï◊™.</p>
<p>◊°◊û◊†◊ò◊ô◊ß◊ï◊™ acquire ◊ï-release ◊î◊ü ◊û◊®◊õ◊ô◊ë◊ô◊ù ◊ó◊ô◊ï◊†◊ô◊ô◊ù ◊ú◊ê◊§◊©◊® ◊î◊¢◊ë◊®◊™ ◊û◊ô◊ì◊¢ ◊û◊™◊ï◊ê◊û◊™ ◊û-thread ◊ê◊ó◊ì ◊ú◊ê◊ó◊® ◊ë◊ê◊ï◊§◊ü ◊ê◊û◊ô◊ü.</p>
<p>◊°◊û◊†◊ò◊ô◊ß◊™ acquire ◊û◊™◊ê◊®◊™ ◊§◊¢◊ï◊ú◊î ◊©◊ß◊ï◊®◊ê◊™ ◊û◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊©◊ï◊™◊£, ◊ë◊ô◊ü ◊ê◊ù ◊û◊ì◊ï◊ë◊® ◊ë◊ß◊®◊ô◊ê◊î ◊®◊í◊ô◊ú◊î ◊ê◊ï ◊ë-RMW. ◊õ◊ê◊©◊® ◊§◊¢◊ï◊ú◊î ◊õ◊ñ◊ï ◊û◊ï◊í◊ì◊®◊™ ◊õ-load-acquire, ◊î◊ô◊ê ◊û◊ï◊†◊¢◊™ ◊©◊ô◊†◊ï◊ô◊ô◊ù ◊ë◊°◊ì◊® ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊õ◊ö ◊©◊õ◊ú ◊ß◊®◊ô◊ê◊î ◊ê◊ï ◊õ◊™◊ô◊ë◊î ◊©◊û◊ë◊ï◊¶◊¢◊™ ◊ú◊ê◊ó◊® ◊§◊¢◊ï◊ú◊™ ◊î-load-acquire ◊™◊ô◊©◊ê◊® ◊ë◊°◊ì◊® ◊©◊ë◊ï ◊î◊ï◊§◊ô◊¢◊î ◊ë◊ß◊ï◊ì ◊î◊û◊ß◊ï◊®◊ô.</p>
<p>◊ú◊¢◊ï◊û◊™ ◊ñ◊ê◊™, ◊°◊û◊†◊ò◊ô◊ß◊™ release ◊û◊™◊ê◊®◊™ ◊§◊¢◊ï◊ú◊î ◊©◊õ◊ï◊™◊ë◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊©◊ï◊™◊£: ◊õ◊™◊ô◊ë◊î ◊®◊í◊ô◊ú◊î ◊ï-RMW. ◊§◊¢◊ï◊ú◊î ◊©◊û◊ï◊í◊ì◊®◊™ ◊õ-store-release ◊û◊ï◊†◊¢◊™ ◊©◊ô◊†◊ï◊ô◊ô◊ù ◊ë◊°◊ì◊® ◊î◊§◊¢◊ï◊ú◊ï◊™, ◊õ◊ö ◊©◊õ◊ú ◊ß◊®◊ô◊ê◊î ◊ê◊ï ◊õ◊™◊ô◊ë◊î ◊©◊û◊ë◊ï◊¶◊¢◊™ ◊ú◊§◊†◊ô◊î ◊†◊©◊ê◊®◊™ ◊ë◊°◊ì◊® ◊î◊û◊ß◊ï◊®◊ô ◊©◊ú◊î ◊ë◊ß◊ï◊ì.</p>
<p>◊¢◊ù ◊î◊î◊ë◊†◊î ◊î◊ñ◊ï, ◊†◊ô◊™◊ü ◊ú◊®◊ê◊ï◊™ ◊©◊°◊û◊†◊ò◊ô◊ß◊ï◊™ acquire ◊ï-release ◊û◊ï◊©◊í◊ï◊™ ◊ú◊û◊¢◊©◊î ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊©◊ô◊ú◊ï◊ë◊ô◊ù ◊û◊™◊ê◊ô◊û◊ô◊ù ◊©◊ú ◊û◊ó◊°◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ï◊†◊ô◊ù. ◊õ◊ö ◊ú◊ì◊ï◊í◊û◊î, ◊ô◊© ◊ú◊û◊ß◊ù ◊û◊ó◊°◊ï◊ù ◊ú◊ê◊ó◊® ◊§◊¢◊ï◊ú◊™ ◊î-load-acquire ◊ï◊ú◊§◊†◊ô ◊§◊¢◊ï◊ú◊™ ◊î-store-release. ◊û◊ó◊°◊ï◊û◊ô◊ù ◊ê◊ú◊ï ◊û◊°◊§◊ß◊ô◊ù ◊ê◊™ ◊ê◊§◊ß◊ò ◊î◊î◊í◊†◊î ◊î◊ì◊®◊ï◊©, ◊ê◊£ ◊©◊ú◊¢◊™◊ô◊ù ◊î◊ù ◊ß◊§◊ì◊†◊ô◊ô◊ù ◊ô◊ï◊™◊® ◊û◊û◊î ◊©◊†◊ó◊ï◊• ◊¢◊ë◊ï◊® ◊°◊û◊†◊ò◊ô◊ß◊™ acquire ◊ï-release ◊ú◊§◊¢◊ï◊ú◊î ◊ë◊ï◊ì◊ì◊™ ◊ë◊ñ◊ô◊õ◊®◊ï◊ü.</p>
<figure>
    <img src="/posts/barriers/acquire-release/acq-rel-barriers_preshing_acquire_and_release_semantics.png"class="dark-image"
    ><figcaption class="image-title">acq-rel-barriers preshing acquire and release semantics from Acquire and Release Fences (preshing.com)</figcaption></figure><style>
  .dark-image {
    background-color: white;
  }

  .image-title {
    width: 50%;
    margin: auto;
  }
</style>
<p>◊û◊¢◊†◊ô◊ô◊ü ◊ë◊û◊ô◊ï◊ó◊ì ◊©◊°◊û◊†◊ò◊ô◊ß◊ï◊™ acquire ◊ï-release ◊ê◊ô◊†◊ü ◊û◊¶◊®◊ô◊õ◊ï◊™ ◊©◊ô◊û◊ï◊© ◊ë◊û◊ó◊°◊ï◊ù ◊û◊°◊ï◊í store-load, ◊©◊î◊ï◊ê ◊ú◊®◊ï◊ë ◊°◊ï◊í ◊û◊ó◊°◊ï◊ù ◊ô◊ß◊® ◊ô◊ó◊°◊ô◊™. ◊ú◊ì◊ï◊í◊û◊î, ◊ë◊û◊¢◊ë◊ì◊ô◊ù ◊û◊°◊ï◊í PowerPC, ◊î◊î◊ï◊®◊ê◊î <code>lwsync</code> ◊§◊ï◊¢◊ú◊™ ◊õ◊ê◊ô◊ó◊ï◊ì ◊©◊ú ◊î◊û◊ó◊°◊ï◊û◊ô◊ù: load-store, store-store ◊ï-load-load ◊û◊ë◊ú◊ô ◊ú◊õ◊ú◊ï◊ú ◊ê◊™ store-load, ◊ï◊ú◊õ◊ü ◊î◊ô◊ê ◊ô◊¢◊ô◊ú◊î ◊ô◊ï◊™◊® ◊ë◊î◊ô◊ë◊ò ◊ñ◊î.</p>
<p>◊ê◊ó◊™ ◊î◊ì◊®◊õ◊ô◊ù ◊ú◊ô◊ô◊©◊ù ◊û◊ó◊°◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊†◊ì◊®◊©◊ô◊ù ◊î◊ô◊ê ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊©◊ô◊û◊ï◊© ◊ë◊î◊ï◊®◊ê◊ï◊™ ◊û◊ó◊°◊ï◊ù ◊û◊§◊ï◊®◊©◊ï◊™. ◊†◊ë◊ó◊ü ◊ì◊ï◊í◊û◊î ◊ë◊°◊ô◊°◊ô◊™ ◊¢◊ë◊ï◊® ◊û◊¢◊ë◊ì◊ô PowerPC: ◊û◊ê◊ó◊® ◊©-<code>lwsync</code> ◊û◊°◊§◊ß◊™ ◊û◊°◊§◊® ◊°◊ï◊í◊ô◊ù ◊©◊ú ◊û◊ó◊°◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü, ◊ê◊§◊©◊® ◊ú◊î◊©◊™◊û◊© ◊ë◊î ◊õ◊ì◊ô ◊ú◊ô◊ô◊¶◊® ◊°◊û◊†◊ò◊ô◊ß◊ï◊™ acquire ◊ê◊ï release ◊ë◊î◊™◊ê◊ù ◊ú◊¶◊ï◊®◊ö.</p>
<figure>
    <img src="/posts/barriers/acquire-release/platform-fences_preshing_acquire_and_release_semantics.png"class="dark-image"
    ><figcaption class="image-title">platform-fences preshing acquire and release semantics from Acquire and Release Semantics (preshing.com)</figcaption></figure><style>
  .dark-image {
    background-color: white;
  }

  .image-title {
    width: 50%;
    margin: auto;
  }
</style>
<p>◊ë◊™◊®◊ó◊ô◊© ◊ñ◊î, thread 1 ◊û◊ë◊¶◊¢ ◊õ◊™◊ô◊ë◊î ◊ú◊û◊©◊™◊†◊î <code>Ready</code> ◊©◊û◊©◊û◊©◊™ ◊õ-store-release, ◊ë◊¢◊ï◊ì ◊©-thread 2 ◊û◊ë◊¶◊¢ ◊ß◊®◊ô◊ê◊î ◊û◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î ◊ï◊î◊ô◊ê ◊û◊ï◊í◊ì◊®◊™ ◊õ-load-acquire. ◊õ◊ê◊©◊® ◊©◊†◊ô ◊î-thread-◊ô◊ù ◊®◊¶◊ô◊ù ◊ë◊û◊ß◊ë◊ô◊ú ◊ï◊ê◊†◊ó◊†◊ï ◊û◊í◊ú◊ô◊ù ◊õ◊ô <code>r1 == 1</code>, ◊†◊ô◊™◊ü ◊ú◊®◊ê◊ï◊™ ◊ë◊õ◊ö ◊ê◊ô◊©◊ï◊® ◊©◊î◊¢◊®◊ö ◊©◊ú <code>A</code>, ◊©◊î◊ï◊ß◊¶◊î ◊ë-thread 1, ◊ê◊õ◊ü ◊¢◊ë◊® ◊ë◊¶◊ï◊®◊î ◊™◊ß◊ô◊†◊î ◊ú-thread 2. ◊ñ◊î ◊û◊ë◊ò◊ô◊ó ◊í◊ù ◊©-<code>r2 == 42</code>.</p>
<p>◊ë◊ê◊ï◊§◊ü ◊õ◊ú◊ú◊ô, ◊õ◊ì◊ô ◊©◊î◊ò◊õ◊†◊ô◊ß◊î ◊™◊¢◊ë◊ï◊ì ◊ë◊¶◊ï◊®◊î ◊ê◊û◊ô◊†◊î, ◊°◊û◊†◊ò◊ô◊ß◊ï◊™ ◊î-acquire ◊ï◊î-release ◊¶◊®◊ô◊õ◊ï◊™ ◊ú◊§◊¢◊ï◊ú ◊¢◊ú ◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î, ◊ë◊û◊ß◊®◊î ◊ñ◊î <code>Ready</code>. ◊ë◊†◊ï◊°◊£, ◊í◊ù ◊§◊¢◊ï◊ú◊™ ◊î-load ◊ï◊í◊ù ◊§◊¢◊ï◊ú◊™ ◊î-store ◊¶◊®◊ô◊õ◊ï◊™ ◊ú◊î◊ô◊ï◊™ ◊ê◊ò◊ï◊û◊ô◊ï◊™. ◊õ◊ê◊ü, <code>Ready</code> ◊î◊ï◊ê ◊û◊©◊™◊†◊î int ◊û◊ô◊ï◊©◊® ◊ë◊ñ◊ô◊õ◊®◊ï◊ü, ◊ï◊ú◊õ◊ü ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊¢◊ú◊ô◊ï ◊î◊ü ◊ê◊ò◊ï◊û◊ô◊ï◊™ ◊õ◊ë◊®◊ô◊®◊™ ◊û◊ó◊ì◊ú ◊ë◊û◊¢◊ë◊ì◊ô PowerPC.</p>
<p>◊õ◊ê◊©◊® ◊®◊ï◊õ◊©◊ô◊ù ◊û◊†◊¢◊ï◊ú, ◊û◊™◊ë◊¶◊¢ acquire ◊û◊®◊ï◊û◊ñ (implicit), ◊ï◊õ◊ê◊©◊® ◊û◊©◊ó◊®◊®◊ô◊ù ◊ê◊™ ◊î◊û◊†◊¢◊ï◊ú ◊û◊™◊ë◊¶◊¢ release ◊û◊®◊ï◊û◊ñ. ◊õ◊ú◊ï◊û◊®, ◊õ◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊û◊ë◊ï◊¶◊¢◊ï◊™ ◊ë◊ô◊ü ◊®◊õ◊ô◊©◊™ ◊î◊û◊†◊¢◊ï◊ú ◊ú◊©◊ó◊®◊ï◊®◊ï ◊†◊û◊¶◊ê◊ï◊™ ◊ë◊û◊°◊í◊®◊™ ◊û◊ï◊í◊†◊™ ◊©◊û◊ï◊†◊¢◊™ ◊°◊ô◊ì◊ï◊® ◊û◊ó◊ì◊© ◊©◊ú ◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊ó◊ï◊• ◊ú◊í◊ë◊ï◊ú◊ï◊™ ◊ê◊ú◊ï.</p>
<h2 id="◊û◊ó◊°◊ï◊ù-acquire">
  ◊û◊ó◊°◊ï◊ù acquire
  <a class="heading-link" href="#%d7%9e%d7%97%d7%a1%d7%95%d7%9d-acquire">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>◊û◊ó◊°◊ï◊ù acquire ◊û◊ï◊†◊¢ ◊°◊ô◊ì◊ï◊® ◊û◊ó◊ì◊© ◊©◊ú ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ú ◊õ◊ú ◊ß◊®◊ô◊ê◊î ◊©◊ß◊ï◊ì◊û◊™ ◊ú◊ï ◊ë◊°◊ì◊® ◊î◊™◊ï◊õ◊†◊ô◊™ ◊¢◊ù ◊õ◊ú ◊ß◊®◊ô◊ê◊î ◊ê◊ï ◊õ◊™◊ô◊ë◊î ◊©◊ê◊ó◊®◊ô◊ï ◊ú◊§◊ô ◊°◊ì◊® ◊î◊™◊ï◊õ◊†◊ô◊™. ◊ë◊û◊ô◊ú◊ô◊ù ◊ê◊ó◊®◊ï◊™, ◊û◊ó◊°◊ï◊ù acquire ◊û◊û◊ú◊ê ◊™◊§◊ß◊ô◊ì ◊©◊ú ◊û◊ó◊°◊ï◊ù load-load ◊ï-load-store.</p>
<p>◊§◊¢◊ï◊ú◊™ acquire ◊û◊ë◊ò◊ô◊ó◊î ◊õ◊ô ◊õ◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ô◊ë◊ï◊¶◊¢◊ï ◊ú◊ê◊ó◊®◊ô◊î ◊ô◊ï◊©◊ú◊û◊ï ◊ú◊ê◊ó◊® ◊°◊ô◊ï◊û◊î. ◊¢◊ù ◊ñ◊ê◊™, ◊§◊¢◊ï◊ú◊ï◊™ ◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊†◊¢◊©◊ï ◊ú◊§◊†◊ô ◊§◊¢◊ï◊ú◊™ acquire ◊¢◊©◊ï◊ô◊ï◊™ ◊ú◊î◊°◊™◊ô◊ô◊ù ◊í◊ù ◊ú◊ê◊ó◊®◊ô◊î, ◊õ◊ö ◊©◊§◊¢◊ï◊ú◊™ acquire ◊û◊ë◊ò◊ô◊ó◊î ◊ë◊¢◊ô◊ß◊® ◊©◊î◊ï◊®◊ê◊ï◊™ ◊©◊ô◊ë◊ï◊ê◊ï ◊ê◊ó◊®◊ô◊î ◊ú◊ê ◊ô◊ï◊ß◊ì◊û◊ï ◊ë◊û◊ô◊ß◊ï◊û◊ü.</p>
<h2 id="◊û◊ó◊°◊ï◊ù-release">
  ◊û◊ó◊°◊ï◊ù release
  <a class="heading-link" href="#%d7%9e%d7%97%d7%a1%d7%95%d7%9d-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>◊û◊ó◊°◊ï◊ù release ◊û◊ï◊†◊¢ ◊ê◊™ ◊°◊ô◊ì◊ï◊® ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊ó◊ì◊© ◊©◊ú ◊õ◊ú ◊ß◊®◊ô◊ê◊î ◊ê◊ï ◊õ◊™◊ô◊ë◊î ◊©◊ß◊ï◊ì◊û◊™ ◊ú◊ï ◊ë◊°◊ì◊® ◊î◊™◊ï◊õ◊†◊ô◊™ ◊¢◊ù ◊õ◊ú ◊õ◊™◊ô◊ë◊î ◊©◊ê◊ó◊®◊ô◊ï ◊ú◊§◊ô ◊°◊ì◊® ◊î◊™◊ï◊õ◊†◊ô◊™. ◊û◊ó◊°◊ï◊ù release, ◊û◊™◊§◊ß◊ì ◊õ◊û◊ó◊°◊ï◊ù load-store ◊ï-store-store.</p>
<p>◊§◊¢◊ï◊ú◊™ release ◊û◊°◊§◊ß◊™ ◊î◊ë◊ò◊ó◊î ◊©◊õ◊ú ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊©◊ë◊ï◊¶◊¢◊ï ◊ú◊§◊†◊ô ◊§◊¢◊ï◊ú◊î ◊ñ◊ï ◊ô◊î◊ô◊ï ◊í◊ú◊ï◊ô◊ï◊™ ◊ï◊†◊ô◊™◊†◊ï◊™ ◊ú◊¶◊§◊ô◊ô◊î ◊ú◊§◊†◊ô ◊©◊î-release ◊¢◊¶◊û◊î ◊û◊™◊ë◊¶◊¢◊™. ◊õ◊ú◊ï◊û◊®, ◊õ◊ê◊©◊® ◊û◊™◊ë◊¶◊¢◊™ ◊§◊¢◊ï◊ú◊î release, ◊õ◊ú ◊î◊í◊ô◊©◊ï◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊†◊¢◊©◊ï ◊ß◊ï◊ì◊ù ◊ú◊õ◊ü ◊ô◊ô◊ó◊©◊ë◊ï ◊õ◊í◊ú◊ï◊ô◊ï◊™ ◊ú◊õ◊ú ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊î◊û◊¢◊ï◊®◊ë◊ô◊ù, ◊ï◊ë◊õ◊ö ◊ñ◊î ◊û◊ê◊§◊©◊® ◊ú◊û◊¢◊ë◊ì◊ô◊ù ◊ê◊ó◊®◊ô◊ù ◊ú◊®◊ê◊ï◊™ ◊ê◊™ ◊î◊©◊ô◊†◊ï◊ô◊ô◊ù ◊©◊î◊™◊®◊ó◊©◊ï ◊ú◊§◊†◊ô ◊§◊¢◊ï◊ú◊î ◊ñ◊ï. ◊¢◊ù ◊ñ◊ê◊™, ◊§◊¢◊ï◊ú◊ï◊™ ◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ë◊ê◊ï◊™ ◊ú◊ê◊ó◊® ◊§◊¢◊ï◊ú◊™ release ◊¢◊©◊ï◊ô◊ï◊™ ◊ú◊î◊°◊™◊ô◊ô◊ù ◊¢◊ï◊ì ◊ú◊§◊†◊ô ◊°◊ô◊ï◊û◊î.</p>
<h3 id="◊ê◊ô◊†◊ò◊®◊ê◊ß◊¶◊ô◊î-◊ë◊ô◊ü-◊û◊ó◊°◊ï◊û◊ô-acquire-◊ï-release">
  ◊ê◊ô◊†◊ò◊®◊ê◊ß◊¶◊ô◊î ◊ë◊ô◊ü ◊û◊ó◊°◊ï◊û◊ô acquire ◊ï-release
  <a class="heading-link" href="#%d7%90%d7%99%d7%a0%d7%98%d7%a8%d7%90%d7%a7%d7%a6%d7%99%d7%94-%d7%91%d7%99%d7%9f-%d7%9e%d7%97%d7%a1%d7%95%d7%9e%d7%99-acquire-%d7%95-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊õ◊ê◊©◊® ◊û◊ë◊¶◊¢◊ô◊ù ◊§◊¢◊ï◊ú◊™ acquire ◊¢◊ú ◊û◊©◊™◊†◊î ◊û◊°◊ï◊ô◊ù, ◊û◊ï◊ë◊ò◊ó ◊©◊õ◊ú ◊í◊ô◊©◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊î◊™◊ë◊¶◊¢◊ï ◊ú◊§◊†◊ô ◊§◊¢◊ï◊ú◊™ release ◊ß◊ï◊ì◊û◊™ ◊ú◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î ◊ô◊î◊ô◊ï ◊í◊ú◊ï◊ô◊ï◊™. ◊õ◊ú◊ï◊û◊®, ◊ë◊õ◊†◊ô◊°◊î ◊ú◊ß◊ò◊¢ ◊ß◊®◊ô◊ò◊ô ◊ë◊ê◊û◊¶◊¢◊ï◊™ acquire, ◊û◊ï◊ë◊ò◊ó ◊©◊õ◊ú ◊î◊©◊ô◊†◊ï◊ô◊ô◊ù ◊©◊ë◊ï◊¶◊¢◊ï ◊ë◊ß◊ò◊¢◊ô◊ù ◊ß◊®◊ô◊ò◊ô◊ô◊ù ◊ß◊ï◊ì◊û◊ô◊ù ◊¢◊ú ◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î ◊ñ◊û◊ô◊†◊ô◊ù ◊õ◊¢◊™ ◊ú◊ß◊®◊ô◊ê◊î.</p>
<p>◊ë◊û◊ß◊®◊ô◊ù ◊©◊ú ◊ê◊ô◊†◊ò◊®◊ê◊ß◊¶◊ô◊î ◊ë◊ô◊ü ◊û◊¢◊ë◊ì◊ô◊ù ◊©◊ï◊†◊ô◊ù, ◊ô◊© ◊ú◊î◊ß◊§◊ô◊ì ◊ú◊î◊™◊ê◊ô◊ù ◊û◊ó◊°◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊™◊ê◊ô◊û◊ô◊ù ◊õ◊ì◊ô ◊ú◊û◊†◊ï◊¢ ◊©◊í◊ô◊ê◊ï◊™ ◊°◊†◊õ◊®◊ï◊ü.</p>
<h3 id="◊û◊ó◊°◊ï◊û◊ô◊ù-◊õ◊ú◊ú◊ô◊ô◊ù-◊û◊ï◊ú-◊û◊ó◊°◊ï◊û◊ô-acquire-release">
  ◊û◊ó◊°◊ï◊û◊ô◊ù ◊õ◊ú◊ú◊ô◊ô◊ù ◊û◊ï◊ú ◊û◊ó◊°◊ï◊û◊ô acquire-release
  <a class="heading-link" href="#%d7%9e%d7%97%d7%a1%d7%95%d7%9e%d7%99%d7%9d-%d7%9b%d7%9c%d7%9c%d7%99%d7%99%d7%9d-%d7%9e%d7%95%d7%9c-%d7%9e%d7%97%d7%a1%d7%95%d7%9e%d7%99-acquire-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊©◊ô◊û◊ï◊© ◊ë◊û◊ó◊°◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊õ◊ú◊ú◊ô◊ô◊ù ◊ú◊ê ◊®◊ß ◊û◊ë◊ò◊ô◊ó ◊î◊™◊ê◊û◊î ◊©◊ú ◊õ◊ú ◊í◊ô◊©◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊ë◊õ◊ú ◊î◊û◊¢◊ë◊ì◊ô◊ù, ◊ê◊ú◊ê ◊í◊ù ◊û◊§◊¶◊î ◊¢◊ú ◊™◊õ◊ï◊†◊ï◊™ ◊õ◊û◊ï non-multi-copy atomicity, ◊©◊ë◊î◊ü ◊¢◊ï◊™◊ß◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊¢◊©◊ï◊ô◊ô◊ù ◊ú◊î◊™◊¢◊ì◊õ◊ü ◊ë◊ñ◊û◊†◊ô◊ù ◊©◊ï◊†◊ô◊ù ◊ë◊û◊¢◊ë◊ì◊ô◊ù ◊î◊©◊ï◊†◊ô◊ù</p>
<p>◊ú◊¢◊ï◊û◊™ ◊ñ◊ê◊™, ◊û◊ó◊°◊ï◊û◊ô◊ù ◊ë◊ñ◊ï◊í◊ï◊™ acquire-release ◊ô◊ï◊¶◊®◊ô◊ù ◊°◊ô◊ì◊ï◊® ◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊®◊ú◊ï◊ï◊†◊ò◊ô ◊®◊ß ◊ú◊ê◊ï◊™◊ù ◊û◊¢◊ë◊ì◊ô◊ù ◊©◊û◊©◊™◊™◊§◊ô◊ù ◊ë◊ê◊ï◊™◊î ◊©◊®◊©◊®◊™ ◊°◊§◊¶◊ô◊§◊ô◊™ ◊©◊ú acquire-release. ◊õ◊ú◊ï◊û◊®, ◊î◊ù ◊û◊ë◊ò◊ô◊ó◊ô◊ù ◊°◊†◊õ◊®◊ï◊ü ◊û◊ß◊ï◊û◊ô ◊ú◊û◊¢◊ë◊ì◊ô◊ù ◊©◊û◊©◊™◊û◊©◊ô◊ù ◊ë◊ê◊ï◊™◊ù ◊û◊©◊™◊†◊ô◊ù ◊ê◊ö ◊ê◊ô◊†◊ù ◊û◊ë◊ò◊ô◊ó◊ô◊ù ◊ë◊î◊õ◊®◊ó ◊î◊™◊ê◊û◊î ◊õ◊ï◊ú◊ú◊™ ◊ë◊ô◊ü ◊õ◊ú ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊ë◊û◊¢◊®◊õ◊™.</p>
<p>◊û◊¢◊†◊ô◊ô◊ü ◊ú◊®◊ê◊ï◊™ ◊©◊ë◊û◊¢◊ë◊ì◊ô x86, ◊õ◊ú ◊î◊ï◊®◊ê◊™ load ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊û◊™◊§◊®◊©◊™ ◊õ◊î◊ï◊®◊ê◊™ load acquire, ◊ë◊¢◊ï◊ì ◊©◊õ◊ú ◊î◊ï◊®◊ê◊™ store ◊†◊ó◊©◊ë◊™ ◊õ◊î◊ï◊®◊ê◊™ store release. ◊î◊™◊†◊î◊í◊ï◊™ ◊ñ◊ï ◊î◊ô◊ê ◊ó◊ú◊ß ◊û◊î◊ì◊®◊ô◊©◊ï◊™ ◊©◊ú ◊î◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊®◊î.</p>
<h3 id="◊ß◊©◊®-synchronizes-with">
  ◊ß◊©◊® synchronizes-with
  <a class="heading-link" href="#%d7%a7%d7%a9%d7%a8-synchronizes-with">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ë◊î◊†◊ó◊î ◊©◊†◊©◊ß◊ï◊ú ◊©◊™◊ô ◊§◊¢◊ï◊ú◊ï◊™, A ◊ï-B, ◊ê◊©◊® ◊©◊™◊ô◊î◊ü ◊û◊™◊ë◊¶◊¢◊ï◊™ ◊¢◊ú ◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î ◊ê◊ò◊ï◊û◊ô M, ◊†◊†◊ô◊ó ◊õ◊ô A ◊î◊ô◊ê ◊§◊¢◊ï◊ú◊î ◊©◊ú release, ◊û◊î ◊©◊ê◊ï◊û◊® ◊©◊î◊ô◊ê ◊û◊ë◊¶◊¢◊™ ◊õ◊™◊ô◊ë◊î ◊ú-M. ◊ï◊†◊†◊ô◊ó ◊©-B ◊î◊ô◊ê ◊§◊¢◊ï◊ú◊î ◊©◊ú acquire, ◊õ◊ö ◊©◊î◊ô◊ê ◊ß◊ï◊®◊ê◊™ ◊û-M.</p>
<p>◊õ◊ì◊ô ◊©◊ê◊§◊©◊® ◊ô◊î◊ô◊î ◊ú◊ß◊ë◊ï◊¢ ◊õ◊ô ◊î◊§◊¢◊ï◊ú◊î A ◊û◊°◊ï◊†◊õ◊®◊†◊™ ◊¢◊ù B, ◊ô◊© ◊¶◊ï◊®◊ö ◊©◊ë-B ◊ô◊ô◊ß◊®◊ê ◊¢◊®◊ö ◊ê◊©◊® ◊†◊õ◊™◊ë ◊¢◊ú ◊ô◊ì◊ô A, ◊ê◊ï ◊¢◊ú ◊ô◊ì◊ô ◊õ◊ú ◊§◊¢◊ï◊ú◊î ◊ê◊ò◊ï◊û◊ô◊™ ◊ê◊ó◊®◊™ ◊©◊õ◊™◊ë◊î ◊¢◊®◊ö ◊ú-M ◊ú◊ê◊ó◊® ◊ë◊ô◊¶◊ï◊¢ A. ◊õ◊ú◊ï◊û◊®, ◊ê◊õ◊ü ◊†◊ô◊™◊ü ◊ú◊ï◊û◊® ◊õ◊ô A ◊û◊°◊ï◊†◊õ◊®◊†◊™ ◊¢◊ù B, ◊ê◊ù ◊ë-B ◊û◊™◊ë◊¶◊¢◊™ ◊ß◊®◊ô◊ê◊î ◊©◊ú ◊¢◊®◊ö ◊©◊†◊õ◊™◊ë ◊¢◊ú ◊ô◊ì◊ô A, ◊ê◊ï ◊¢◊®◊ö ◊©◊†◊õ◊™◊ë ◊ú◊ê◊ó◊® ◊î◊õ◊™◊ô◊ë◊î ◊©◊ú A ◊ú◊û◊©◊™◊†◊î ◊î◊ê◊ò◊ï◊û◊ô.</p>
<p>◊†◊ô◊™◊ü ◊ú◊†◊°◊ó ◊ñ◊ê◊™ ◊ë◊¶◊ï◊®◊î ◊ô◊ï◊™◊® ◊ë◊®◊ï◊®◊î: ◊©◊™◊ô ◊§◊¢◊ï◊ú◊ï◊™ ◊©◊û◊ë◊ï◊¶◊¢◊ï◊™ ◊¢◊ú ◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î ◊ê◊ò◊ï◊û◊ô ◊û◊°◊ï◊†◊õ◊®◊†◊ï◊™ ◊ñ◊ï ◊¢◊ù ◊ñ◊ï ◊ê◊ù ◊ê◊ó◊™ ◊û◊î◊ü ◊®◊ï◊ê◊î ◊™◊ï◊¶◊ê◊î ◊©◊ú ◊î◊©◊†◊ô◊ô◊î, ◊ï◊ë◊™◊ï◊°◊§◊™ ◊ú◊õ◊ö, ◊õ◊ú ◊î◊™◊†◊ê◊ô◊ù ◊î◊û◊™◊ß◊ô◊ô◊û◊ô◊ù ◊ë◊§◊®◊û◊ò◊®◊ô◊ù ◊©◊ú ◊°◊ì◊® ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊ô◊©◊§◊ô◊¢◊ï ◊¢◊ú ◊™◊î◊ú◊ô◊ö ◊î◊°◊†◊õ◊®◊ï◊ü.</p>
<h2 id="rc---release-consistency">
  RC - Release Consistency
  <a class="heading-link" href="#rc---release-consistency">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>◊î◊®◊¢◊ô◊ï◊ü ◊î◊û◊®◊õ◊ñ◊ô ◊©◊ú ◊¢◊ß◊ë◊ô◊ï◊™ release ◊î◊ï◊ê ◊©◊ú◊§◊¢◊ï◊ú◊ï◊™ ◊î◊°◊†◊õ◊®◊ï◊ü, ◊î◊ü ◊î◊ß◊®◊ô◊ê◊î ◊ï◊î◊ü ◊î◊õ◊™◊ô◊ë◊î, ◊ô◊© ◊ì◊®◊ô◊©◊ï◊™ ◊°◊ì◊® ◊©◊ï◊†◊ï◊™. ◊§◊¢◊ï◊ú◊™ ◊î-release ◊û◊°◊û◊†◊™ ◊©◊î◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ß◊ï◊ì◊û◊ï◊™ ◊î◊ï◊©◊ú◊û◊ï, ◊ï◊ê◊ô◊ü ◊ú◊î ◊î◊©◊§◊¢◊î ◊¢◊ú ◊°◊ì◊® ◊î◊í◊ô◊©◊î ◊©◊ú◊ê◊ó◊® ◊û◊õ◊ü. ◊ú◊õ◊ü, ◊ú◊û◊®◊ï◊™ ◊©◊§◊¢◊ï◊ú◊™ ◊î-release ◊û◊ó◊õ◊î ◊ú◊î◊©◊ú◊û◊™ ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊ß◊ï◊ì◊û◊ï◊™ ◊ú◊§◊ô ◊°◊ì◊® ◊î◊™◊ï◊õ◊†◊ô◊™, ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ê◊ó◊®◊ô◊î ◊ô◊õ◊ï◊ú◊ï◊™ ◊ú◊î◊™◊®◊ó◊© ◊ú◊ú◊ê ◊¢◊ô◊õ◊ï◊ë.</p>
<p>◊ë◊ê◊ï◊™◊ï ◊ê◊ï◊§◊ü, ◊§◊¢◊ï◊ú◊™ acquire ◊ú◊ê ◊û◊ó◊ô◊ô◊ë◊™ ◊°◊ô◊ï◊ù ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊ñ◊ô◊õ◊®◊ï◊ü ◊ß◊ï◊ì◊û◊ï◊™, ◊û◊õ◊ô◊ï◊ï◊ü ◊©◊î◊ô◊ê ◊ú◊ê ◊û◊¢◊†◊ô◊ß◊î ◊î◊®◊©◊ê◊î ◊ú◊û◊¢◊ë◊ì◊ô◊ù ◊ê◊ó◊®◊ô◊ù ◊ú◊í◊©◊™ ◊ú◊û◊ô◊ß◊ï◊û◊ô◊ù ◊î◊û◊©◊ï◊™◊§◊ô◊ù ◊ë◊ñ◊û◊ü ◊ñ◊î. ◊ñ◊î ◊û◊ê◊§◊©◊® ◊°◊ô◊ì◊ï◊® ◊û◊ó◊ì◊© ◊ï◊ó◊§◊ô◊§◊ï◊™ ◊†◊ï◊°◊§◊ï◊™ ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊ñ◊ô◊õ◊®◊ï◊ü ◊ë◊ô◊ó◊° ◊ú-acquires ◊ï-releases.</p>
<p>◊î◊û◊ï◊ì◊ú RC ◊û◊ë◊ì◊ô◊ú ◊ë◊ô◊ü ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊°◊†◊õ◊®◊ï◊ü ◊©◊ú ◊õ◊†◊ô◊°◊î (entrance) ◊ï◊ô◊¶◊ô◊ê◊î (exit).</p>
<p>◊ë◊û◊ï◊ì◊ú ◊°◊ì◊® ◊ó◊ú◊©, ◊õ◊ê◊©◊® ◊û◊™◊ë◊¶◊¢◊™ ◊§◊¢◊ï◊ú◊î ◊©◊ú ◊°◊†◊õ◊®◊ï◊ü, ◊õ◊ú ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊©◊û◊ë◊ï◊¶◊¢◊ï◊™ ◊ë◊õ◊ú ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊ó◊ô◊ô◊ë◊ï◊™ ◊ú◊î◊ô◊ï◊™ ◊í◊ú◊ï◊ô◊ï◊™ ◊ú◊§◊†◊ô ◊©◊î◊û◊¢◊ë◊ì ◊û◊û◊©◊ô◊ö ◊ë◊§◊¢◊ï◊ú◊î ◊î◊ë◊ê◊î. ◊ë◊û◊ô◊ú◊ô◊ù ◊ê◊ó◊®◊ï◊™, ◊õ◊ú ◊î◊õ◊™◊ô◊ë◊ï◊™ ◊ï◊î◊ß◊®◊ô◊ê◊ï◊™ ◊î◊û◊™◊®◊ó◊©◊ï◊™ ◊ú◊§◊†◊ô ◊î◊°◊†◊õ◊®◊ï◊ü ◊¶◊®◊ô◊õ◊ï◊™ ◊ú◊î◊™◊§◊®◊°◊ù ◊ï◊ú◊î◊ô◊ï◊™ ◊†◊®◊ê◊ï◊™ ◊ú◊§◊†◊ô ◊©◊û◊ë◊¶◊¢◊ô◊ù ◊ê◊™ ◊§◊¢◊ï◊ú◊™ ◊î◊°◊†◊õ◊®◊ï◊ü.</p>
<p>◊ë◊û◊ï◊ì◊ú RC, ◊ú◊¢◊ï◊û◊™ ◊ñ◊ê◊™, ◊ë◊û◊î◊ú◊ö ◊î◊õ◊†◊ô◊°◊î ◊ú◊ß◊ò◊¢ ◊ß◊®◊ô◊ò◊ô, ◊î◊û◊ï◊õ◊® ◊ë◊©◊ù acquire, ◊ô◊© ◊ú◊î◊©◊ú◊ô◊ù ◊ê◊™ ◊õ◊ú ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ß◊©◊ï◊®◊ï◊™ ◊ú◊û◊©◊™◊†◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊û◊ß◊ï◊û◊ô◊ô◊ù. ◊ë◊û◊î◊ú◊ö ◊î◊ô◊¶◊ô◊ê◊î ◊û◊î◊ß◊ò◊¢ ◊î◊ß◊®◊ô◊ò◊ô, ◊î◊û◊õ◊ï◊†◊î release, ◊ô◊© ◊ú◊î◊§◊ô◊• ◊ê◊™ ◊õ◊ú ◊î◊©◊ô◊†◊ï◊ô◊ô◊ù ◊©◊†◊¢◊©◊ï ◊¢◊ú ◊ô◊ì◊ô ◊î◊û◊¢◊ë◊ì ◊î◊û◊ß◊ï◊û◊ô ◊ú◊õ◊ú ◊©◊ê◊® ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊ë◊û◊¢◊®◊õ◊™. ◊ë◊õ◊ö ◊†◊©◊û◊®◊™ ◊î◊ß◊ï◊î◊®◊†◊ò◊ô◊ï◊™ ◊©◊ú ◊î◊ñ◊ô◊õ◊®◊ï◊ü.</p>
<p>◊§◊¢◊ï◊ú◊™ ◊î-acquire ◊û◊™◊ë◊¶◊¢◊™ ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊î◊ï◊®◊ê◊™ load, ◊©◊û◊ò◊®◊™◊î ◊ú◊í◊©◊™ ◊ú◊ß◊ò◊¢ ◊î◊ß◊®◊ô◊ò◊ô. ◊û◊¶◊ì ◊©◊†◊ô, ◊§◊¢◊ï◊ú◊™ ◊î-release ◊û◊™◊ë◊¶◊¢◊™ ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊î◊ï◊®◊ê◊™ store, ◊©◊û◊ê◊§◊©◊®◊™ ◊ú◊û◊¢◊ë◊ì◊ô◊ù ◊ê◊ó◊®◊ô◊ù ◊ú◊í◊©◊™ ◊ú◊û◊©◊™◊†◊ô◊ù ◊î◊û◊©◊ï◊™◊§◊ô◊ù.</p>
<p>◊ë◊ê◊ï◊§◊ü ◊õ◊ú◊ú◊ô, ◊ë◊ô◊ü ◊û◊©◊™◊†◊ô ◊î◊°◊†◊õ◊®◊ï◊ü ◊†◊ô◊™◊ü ◊ú◊©◊û◊ï◊® ◊¢◊ú SC ◊ê◊ï ◊¢◊ß◊ë◊ô◊ï◊™ ◊û◊¢◊ë◊ì (PC). ◊ë◊û◊ï◊ì◊ú SC, ◊ô◊© ◊ú◊¢◊ë◊ì ◊ê◊™ ◊õ◊ú ◊û◊©◊™◊†◊ô ◊î◊°◊†◊õ◊®◊ï◊ü ◊î◊û◊™◊ó◊®◊ô◊ù ◊ë◊°◊ì◊® ◊î◊†◊õ◊ï◊ü, ◊ë◊¢◊ï◊ì ◊©◊ë◊û◊ï◊ì◊ú PC, ◊ñ◊ï◊í ◊û◊©◊™◊†◊ô◊ù ◊û◊™◊ó◊®◊ô◊ù ◊¶◊®◊ô◊õ◊ô◊ù ◊ú◊§◊¢◊ï◊ú ◊®◊ß ◊ú◊§◊ô ◊î◊°◊ì◊® ◊î◊û◊°◊ï◊ô◊ù ◊î◊ñ◊î. ◊ë◊û◊ï◊ì◊ú PC, ◊†◊ô◊™◊ü ◊ú◊ê◊§◊©◊® ◊ú◊î◊ï◊®◊ê◊ï◊™ acquire ◊ú◊î◊™◊ë◊¶◊¢ ◊ú◊§◊†◊ô release ◊©◊†◊¢◊©◊ï ◊ë◊¢◊ë◊®, ◊û◊î ◊©◊û◊°◊§◊ß ◊í◊û◊ô◊©◊ï◊™ ◊®◊ë◊î ◊ô◊ï◊™◊® ◊ë◊†◊ô◊î◊ï◊ú ◊î◊°◊†◊õ◊®◊ï◊ü ◊ï◊ë◊§◊¢◊ï◊ú◊ï◊™ ◊ë◊û◊¢◊®◊õ◊™.</p>
<h3 id="◊¢◊ß◊ë◊ô◊ï◊™-◊õ◊†◊ô◊°◊î-entry-consistency">
  ◊¢◊ß◊ë◊ô◊ï◊™ ◊õ◊†◊ô◊°◊î (Entry Consistency)
  <a class="heading-link" href="#%d7%a2%d7%a7%d7%91%d7%99%d7%95%d7%aa-%d7%9b%d7%a0%d7%99%d7%a1%d7%94-entry-consistency">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊¢◊ß◊ë◊ô◊ï◊™ ◊õ◊†◊ô◊°◊î ◊î◊ô◊ê ◊í◊®◊°◊î ◊©◊ú ◊û◊ï◊ì◊ú ◊¢◊ß◊ë◊ô◊ï◊™ ◊î-release, ◊ê◊©◊® ◊ì◊ï◊®◊©◊™ ◊ê◊™ ◊î◊©◊ô◊û◊ï◊© ◊ë◊î◊ï◊®◊ê◊ï◊™ acquire ◊ï-release ◊õ◊ì◊ô ◊ú◊¶◊ô◊ô◊ü ◊ë◊û◊§◊ï◊®◊© ◊ê◊™ ◊î◊õ◊†◊ô◊°◊î ◊ú◊ß◊ò◊¢ ◊ß◊®◊ô◊ò◊ô ◊ê◊ï ◊î◊ô◊¶◊ô◊ê◊î ◊û◊û◊†◊ï. ◊™◊ó◊™ ◊û◊ï◊ì◊ú ◊ñ◊î, ◊ú◊õ◊ú ◊û◊©◊™◊†◊î ◊û◊©◊ï◊™◊£ ◊û◊ï◊ß◊¶◊î ◊û◊©◊™◊†◊î ◊°◊†◊õ◊®◊ï◊ü ◊ô◊ô◊ó◊ï◊ì◊ô. ◊î◊û◊©◊û◊¢◊ï◊™ ◊î◊ô◊ê ◊©◊õ◊ê◊©◊® ◊§◊¢◊ï◊ú◊™ acquire ◊û◊™◊ë◊¶◊¢◊™ ◊¢◊ë◊ï◊® ◊û◊©◊™◊†◊î ◊û◊°◊ï◊ô◊ù (◊ú◊û◊©◊ú x), ◊ô◊© ◊ú◊î◊©◊ú◊ô◊ö ◊ê◊™ ◊õ◊ú ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ß◊©◊ï◊®◊ï◊™ ◊ú◊û◊©◊™◊†◊î ◊ñ◊î ◊¢◊ú ◊î◊û◊¢◊ë◊ì ◊î◊û◊§◊¢◊ô◊ú ◊ê◊™ ◊î-acquire.</p>
<p>◊í◊ô◊©◊î ◊ñ◊ï ◊û◊ê◊§◊©◊®◊™ ◊ú◊û◊¢◊ë◊ì◊ô◊ù ◊ú◊ë◊¶◊¢ ◊§◊¢◊ï◊ú◊ï◊™ ◊û◊ß◊ë◊ô◊ú◊ï◊™ ◊¢◊ú ◊ß◊ò◊¢◊ô◊ù ◊ß◊®◊ô◊ò◊ô◊ô◊ù ◊©◊ï◊†◊ô◊ù ◊©◊ú ◊û◊©◊™◊†◊ô◊ù ◊û◊©◊ï◊™◊§◊ô◊ù ◊©◊ï◊†◊ô◊ù, ◊û◊ë◊ú◊ô ◊©◊î◊ü ◊ô◊™◊†◊í◊©◊ï ◊ê◊ó◊™ ◊¢◊ù ◊î◊©◊†◊ô◊ô◊î. ◊¢◊ù ◊ñ◊ê◊™, ◊ô◊© ◊ú◊¶◊ô◊ô◊ü ◊©◊ú◊ê ◊†◊ô◊™◊ü ◊ú◊®◊ê◊ï◊™ ◊ó◊§◊ô◊§◊ï◊™ ◊ë◊ô◊ü ◊§◊¢◊ï◊ú◊ï◊™ ◊ß◊®◊ô◊ò◊ô◊ï◊™ ◊î◊û◊ë◊ï◊¶◊¢◊ï◊™ ◊¢◊ú ◊ê◊ï◊™◊ï ◊û◊©◊™◊†◊î ◊û◊©◊ï◊™◊£, ◊û◊î ◊©◊û◊ó◊ô◊ô◊ë ◊ò◊ô◊§◊ï◊ú ◊ñ◊î◊ô◊® ◊ë◊õ◊ú ◊î◊†◊ï◊í◊¢ ◊ú◊°◊†◊õ◊®◊ï◊ü ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊¢◊ú ◊û◊©◊™◊†◊ô◊ù ◊û◊©◊ï◊™◊§◊ô◊ù.</p>
<h1 id="arm">
  Arm
  <a class="heading-link" href="#arm">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊®◊™ Arm ◊û◊°◊§◊ß◊™ ◊°◊ò ◊î◊ï◊®◊ê◊ï◊™ ◊î◊û◊ê◊§◊©◊® ◊°◊û◊†◊ò◊ô◊ß◊ï◊™ Acquire ◊ú◊§◊¢◊ï◊ú◊ï◊™ loads ◊ï◊°◊û◊†◊ò◊ô◊ß◊ï◊™ Release ◊ú◊§◊¢◊ï◊ú◊ï◊™ stores. ◊î◊ï◊®◊ê◊ï◊™ ◊ê◊ú◊ï ◊™◊ï◊û◊õ◊ï◊™ ◊ë◊û◊ï◊ì◊ú ◊¢◊ß◊ë◊ô◊ï◊™ ◊û◊°◊ï◊í RCsc. ◊†◊ï◊°◊£ ◊ú◊õ◊ö, ◊õ◊©◊û◊ï◊í◊ì◊® FEAT_LRCPC ◊ê◊ñ ◊ß◊ô◊ô◊û◊™ ◊î◊ï◊®◊ê◊î ◊û◊°◊ï◊í Load-AcquirePC, ◊©◊†◊ô◊™◊ü ◊ú◊©◊ú◊ë ◊¢◊ù Store-Release ◊õ◊ì◊ô ◊ú◊™◊û◊ï◊ö ◊ë◊û◊ï◊ì◊ú ◊¢◊ß◊ë◊ô◊ï◊™ ◊ó◊ú◊© ◊ô◊ï◊™◊®, ◊î◊û◊õ◊ï◊†◊î RCpc.</p>
<p>◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊î◊ï◊®◊ê◊ï◊™ Load-Acquire, Load-AcquirePC ◊ï-Store-Release, ◊†◊ô◊™◊ü ◊ú◊¢◊ô◊™◊ô◊ù ◊ú◊î◊ô◊û◊†◊¢ ◊û◊©◊ô◊û◊ï◊© ◊ë◊î◊ï◊®◊ê◊ï◊™ DMB ◊û◊§◊ï◊®◊©◊ï◊™, ◊û◊©◊ï◊ù ◊©◊î◊ü ◊û◊°◊§◊ß◊ï◊™ ◊ë◊¢◊¶◊û◊ü ◊ê◊™ ◊î◊°◊ì◊® ◊î◊†◊ì◊®◊© ◊ë◊ñ◊ô◊õ◊®◊ï◊ü.</p>
<p>◊û◊ô◊ì◊¢ ◊†◊ï◊°◊£ ◊¢◊ú ◊ì◊®◊ô◊©◊ï◊™ ◊î◊°◊ì◊® ◊ï◊î◊ô◊ô◊©◊ï◊® ◊©◊ú ◊î◊ï◊®◊ê◊ï◊™ ◊ê◊ú◊ï:</p>
<ul>
<li>
<p>◊¢◊ë◊ï◊® ◊î◊î◊ï◊®◊ê◊ï◊™ Load-Acquire, Load-AcquirePC ◊ï-Store-Release, ◊†◊ì◊®◊© ◊ô◊ô◊©◊ï◊® ◊î◊õ◊™◊ï◊ë◊™ ◊©◊ú ◊ê◊ï◊ë◊ô◊ô◊ß◊ò ◊î◊†◊™◊ï◊†◊ô◊ù ◊ë◊î◊™◊ê◊ù ◊ú◊í◊ï◊ì◊ú◊ï. ◊ê◊ó◊®◊™, ◊î◊í◊ô◊©◊î ◊™◊ï◊ë◊ô◊ú ◊ú◊©◊í◊ô◊ê◊™ ◊ô◊ô◊©◊ï◊® (Alignment fault).</p>
</li>
<li>
<p>◊¢◊ë◊ï◊® ◊î◊ï◊®◊ê◊ï◊™ Load-Acquire Exclusive Pair ◊ï-Store-Release Exclusive Pair, ◊†◊ì◊®◊© ◊ô◊ô◊©◊ï◊® ◊õ◊§◊ï◊ú ◊û◊í◊ï◊ì◊ú ◊î◊†◊™◊ï◊†◊ô◊ù, ◊ê◊ó◊®◊™ ◊™◊ô◊ï◊ï◊¶◊® ◊©◊í◊ô◊ê◊™ ◊ô◊ô◊©◊ï◊®. ◊ú◊ì◊ï◊í◊û◊î:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="line"><span class="ln">1</span><span class="cl"><span class="nf">LDAXP</span> <span class="no">x0</span><span class="p">,</span> <span class="no">x1</span><span class="p">,</span> <span class="p">[</span><span class="mi">0x08</span><span class="p">]</span> <span class="c1">; Alignment fault
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="c1"></span><span class="nf">LDAXP</span> <span class="no">x0</span><span class="p">,</span> <span class="no">x1</span> <span class="p">[</span><span class="mi">0x10</span><span class="p">]</span>
</span></span></code></pre></div></li>
<li>
<p>◊ë◊†◊ô◊í◊ï◊ì ◊ú◊î◊ï◊®◊ê◊ï◊™ DMB, ◊©◊û◊ß◊ë◊ú ◊õ◊§◊®◊û◊ò◊® ◊ê◊™ ◊î◊ì◊ï◊û◊ô◊ô◊ü, ◊î◊ï◊®◊ê◊ï◊™ ◊î-LDAR ◊ï◊î-STLR ◊û◊©◊™◊û◊©◊ï◊™ ◊ë◊™◊õ◊ï◊†◊î ◊©◊ú ◊î◊õ◊™◊ï◊ë◊™ ◊©◊ê◊ú◊ô◊î ◊û◊™◊ë◊¶◊¢ ◊î◊í◊ô◊©◊î.</p>
</li>
<li>
<p>◊ë◊†◊ï◊°◊£, ◊ß◊ô◊ô◊û◊ï◊™ ◊í◊ù ◊í◊®◊°◊ê◊ï◊™ ◊ë◊ú◊¢◊ì◊ô◊ï◊™ ◊©◊ú ◊î◊ï◊®◊ê◊ï◊™ Load-Acquire ◊ï-Store-Release, ◊î◊û◊°◊§◊ß◊ï◊™ ◊™◊õ◊ï◊†◊ï◊™ ◊ê◊ò◊ï◊û◊ô◊ï◊™ ◊†◊ï◊°◊§◊ï◊™, ◊î◊î◊ï◊®◊ê◊ï◊™ ◊î◊ü <code>LDAXR</code> ◊ï-<code>STLXR</code> ◊ë◊î◊™◊ê◊û◊î.</p>
</li>
</ul>
<h3 id="load-acquire-ldar">
  Load-Acquire (LDAR)
  <a class="heading-link" href="#load-acquire-ldar">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ì◊®◊ô◊©◊ï◊™ ◊î◊°◊ì◊® ◊î◊û◊ï◊ò◊ú◊ï◊™ ◊¢◊ú ◊ô◊ì◊ô ◊î◊ï◊®◊ê◊™ Load-Acquire¬†<code>LDAR</code>¬†◊î◊ü:</p>
<ul>
<li>◊õ◊ú ◊î◊í◊ô◊©◊î ◊î◊û◊§◊ï◊®◊©◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊ú◊ê◊ó◊® ◊î-<code>LDAR</code> ◊™◊ô◊®◊ê◊î ◊ú◊ê◊ó◊® ◊î-<code>LDAR</code>.</li>
<li>◊õ◊ú ◊î◊í◊ô◊©◊î ◊î◊û◊§◊ï◊®◊©◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊ú◊§◊†◊ô ◊î-<code>LDAR</code>¬†◊ú◊ê ◊û◊ï◊©◊§◊¢◊™, ◊ï◊û◊°◊ï◊ì◊®◊™ ◊û◊ó◊ì◊© ◊ú◊í◊ë◊ô ◊î-<code>LDAR</code>.</li>
</ul>
<p>◊†◊ô◊™◊ü ◊ú◊®◊ê◊ï◊™ ◊ê◊™ ◊ì◊®◊ô◊©◊ï◊™ ◊î◊°◊ì◊® ◊î◊ê◊ú◊î <a href="https://documentation-service.arm.com/static/62a304f231ea212bb662321f?token="  class="external-link" target="_blank" rel="noopener">◊ë◊™◊®◊©◊ô◊ù</a> ◊î◊ë◊ê:</p>
<figure>
    <img src="/posts/barriers/acquire-release/Figure_1_LDAR_ordering_requirements.svg"class="dark-image"
    ><figcaption class="image-title">Figure 1 LDAR ordering requirements from Load-Acquire and Store-Release instructions (developer.arm.com)</figcaption></figure><style>
  .dark-image {
    background-color: white;
  }

  .image-title {
    width: 50%;
    margin: auto;
  }
</style>
<h3 id="store-release">
  Store-Release
  <a class="heading-link" href="#store-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ì◊®◊ô◊©◊ï◊™ ◊î◊°◊ì◊® ◊î◊û◊ï◊ò◊ú◊ï◊™ ◊¢◊ú ◊ô◊ì◊ô ◊î◊ï◊®◊ê◊™ Store-Release¬†<code>STLR</code>¬†◊î◊ü:</p>
<ul>
<li>◊õ◊ú ◊î◊í◊ô◊©◊î ◊î◊û◊§◊ï◊®◊©◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊ú◊§◊†◊ô¬†<code>STLR</code>¬†◊™◊ô◊®◊ê◊î ◊ú◊§◊†◊ô¬†<code>STLR</code>.</li>
<li>◊õ◊ú ◊î◊í◊ô◊©◊î ◊î◊û◊§◊ï◊®◊©◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊ú◊ê◊ó◊®¬†<code>STLR</code>¬†◊ú◊ê ◊û◊ï◊©◊§◊¢◊™, ◊ï◊û◊°◊ï◊ì◊®◊™ ◊û◊ó◊ì◊© ◊ú◊í◊ë◊ô¬†<code>STLR</code>.</li>
</ul>
<p>◊ê◊™◊î ◊ô◊õ◊ï◊ú ◊ú◊®◊ê◊ï◊™ ◊ê◊™ ◊ì◊®◊ô◊©◊ï◊™ ◊î◊°◊ì◊® ◊î◊ê◊ú◊î <a href="https://documentation-service.arm.com/static/62a304f231ea212bb6623216?token="  class="external-link" target="_blank" rel="noopener">◊ë◊™◊®◊©◊ô◊ù</a> ◊î◊ë◊ê:</p>
<figure>
    <img src="/posts/barriers/acquire-release/Figure_2_STLR_ordering_requirements.svg"class="dark-image"
    ><figcaption class="image-title">Figure 2 STLR ordering requirements from Load-Acquire and Store-Release instructions (developer.arm.com)</figcaption></figure><style>
  .dark-image {
    background-color: white;
  }

  .image-title {
    width: 50%;
    margin: auto;
  }
</style>
<p>◊î◊ì◊ï◊í◊û◊î ◊î◊ë◊ê◊î ◊û◊®◊ê◊î ◊õ◊ô◊¶◊ì ◊ú◊î◊©◊™◊û◊© ◊ë-<code>STLR</code> ◊õ◊ì◊ô ◊ú◊ê◊õ◊ï◊£ ◊†◊ô◊®◊ê◊ï◊™ ◊ë◊ô◊¶◊ï◊¢ ◊î◊ï◊®◊ê◊ï◊™. ◊û◊ô◊ß◊ï◊û◊ô ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊ë-<code>X1</code>¬†◊ï-<code>X3</code>¬†◊û◊ê◊™◊ó◊ú◊ô◊ù ◊ú-<code>0x0</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="line"><span class="ln">1</span><span class="cl"><span class="nf">STR</span>  <span class="p">,</span> <span class="p">[</span><span class="no">X1</span><span class="p">]</span> 
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="no">STLR</span> <span class="p">,</span> <span class="p">[</span><span class="no">X3</span><span class="p">]</span>  <span class="c1">; Cannot observe this STLR without observing the previous STR.
</span></span></span></code></pre></div><p>◊ë◊ì◊ï◊í◊û◊î ◊ñ◊ï, ◊ê◊ù ◊û◊ô◊ß◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊ë-<code>X3</code>¬†◊†◊¶◊§◊î ◊û◊¢◊ï◊ì◊õ◊ü, ◊ê◊ñ ◊í◊ù¬†<code>X1</code> ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ ◊û◊¢◊ï◊ì◊õ◊ü. ◊ê◊ù ◊û◊¢◊ë◊ì ◊ê◊ó◊® ◊ß◊ï◊®◊ê ◊ê◊™ ◊ê◊ï◊™◊ù ◊©◊†◊ô ◊û◊ô◊ß◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü, ◊ë◊ê◊ï◊™◊ï ◊°◊ì◊®, ◊î◊ò◊ë◊ú◊î ◊î◊ë◊ê◊î ◊û◊¶◊ô◊í◊î ◊ê◊™ ◊©◊ô◊ú◊ï◊ë ◊î◊¢◊®◊õ◊ô◊ù ◊©◊û◊¢◊®◊õ◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊¢◊©◊ï◊ô◊î ◊ú◊î◊ó◊ñ◊ô◊®:</p>
<table>
  <thead>
      <tr>
          <th>X1</th>
          <th>X3</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0x0</td>
          <td>0x0</td>
      </tr>
      <tr>
          <td>0x1</td>
          <td>0x0</td>
      </tr>
      <tr>
          <td>0x1</td>
          <td>0x1</td>
      </tr>
  </tbody>
</table>
<h3 id="◊ñ◊ï◊í◊ï◊™-load-acquire-◊ï-store-release">
  ◊ñ◊ï◊í◊ï◊™ Load-Acquire ◊ï-Store-Release
  <a class="heading-link" href="#%d7%96%d7%95%d7%92%d7%95%d7%aa-load-acquire-%d7%95-store-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊î◊ï◊®◊ê◊ï◊™ ◊û◊°◊ï◊í load-acquire ◊ï-store-release ◊ô◊õ◊ï◊ú◊ï◊™ ◊ú◊©◊û◊© ◊ë◊ñ◊ï◊í ◊õ◊ì◊ô ◊ú◊î◊í◊ü ◊¢◊ú ◊ß◊ò◊¢ ◊ß◊®◊ô◊ò◊ô ◊ë◊ß◊ï◊ì. ◊õ◊ê◊©◊® ◊î◊ï◊®◊ê◊ï◊™ ◊ê◊ú◊ï ◊û◊ï◊§◊¢◊ú◊ï◊™ ◊õ◊ñ◊ï◊í, ◊î◊ü ◊û◊ë◊ò◊ô◊ó◊ï◊™ ◊©◊í◊ô◊©◊ï◊™ ◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊û◊ë◊ï◊¶◊¢◊ï◊™ ◊ë◊™◊ï◊ö ◊î◊ß◊ò◊¢ ◊î◊ß◊®◊ô◊ò◊ô ◊ê◊ô◊†◊ü &ldquo;◊ñ◊ï◊ú◊í◊ï◊™&rdquo; ◊ê◊ï ◊û◊°◊ï◊ì◊®◊ï◊™ ◊û◊ó◊ì◊© ◊û◊ó◊ï◊• ◊ú◊ß◊ò◊¢ ◊ñ◊î.</p>
<p>◊ê◊ë◊ú ◊°◊ì◊® ◊î◊í◊ô◊©◊ï◊™ ◊ë◊™◊ï◊ö ◊î◊ß◊ò◊¢ ◊î◊ß◊®◊ô◊ò◊ô ◊ê◊ô◊†◊ï ◊û◊ï◊©◊§◊¢. ◊õ◊ú◊ï◊û◊®, ◊†◊ô◊™◊ü ◊¢◊ì◊ô◊ô◊ü ◊ú◊©◊†◊ï◊™ ◊ê◊™ ◊î◊°◊ì◊® ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊û◊™◊®◊ó◊©◊ï◊™ ◊ë◊™◊ï◊ö ◊î◊ß◊ò◊¢ ◊î◊ß◊®◊ô◊ò◊ô ◊¢◊¶◊û◊ï, ◊ë◊î◊™◊ê◊ù ◊ú◊ê◊ï◊§◊ò◊ô◊û◊ô◊ñ◊¶◊ô◊ï◊™ ◊ê◊§◊©◊®◊ô◊ï◊™ ◊ë◊™◊ï◊ö ◊î◊ì◊ï◊û◊ô◊ô◊ü ◊î◊û◊ï◊í◊ì◊® ◊õ◊û◊ï <a href="https://documentation-service.arm.com/static/62a304f231ea212bb662321e?token="  class="external-link" target="_blank" rel="noopener">◊ë◊™◊®◊©◊ô◊ù</a> ◊î◊ë◊ê:</p>
<figure>
    <img src="/posts/barriers/acquire-release/%27Figure_3_Protecting_a_critical_code_section_with_an_LDAR-STLR_pair.svg"class="dark-image"
    ><figcaption class="image-title">&#39;Figure 3 Protecting a critical code section with an LDAR-STLR pair from Load-Acquire and Store-Release instructions (developer.arm.com)</figcaption></figure><style>
  .dark-image {
    background-color: white;
  }

  .image-title {
    width: 50%;
    margin: auto;
  }
</style>
<h3 id="load-acquirepc">
  Load-AcquirePC
  <a class="heading-link" href="#load-acquirepc">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊î◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊®◊î Armv8.3-A ◊û◊¶◊ô◊¢◊î ◊ê◊™ ◊î◊î◊ï◊®◊ê◊î <code>LDAPR</code> ◊©◊î◊ô◊ê ◊î◊ï◊®◊ê◊ï◊™ ◊†◊ï◊°◊§◊ï◊™ ◊û◊°◊ï◊í Load-AcquirePC. ◊î◊©◊ô◊û◊ï◊© ◊ë◊©◊ô◊ú◊ï◊ë ◊©◊ú ◊î◊ï◊®◊ê◊ï◊™ Load-AcquirePC ◊¢◊ù ◊î◊ï◊®◊ê◊ï◊™ Store-Release ◊†◊ï◊¢◊ì ◊ú◊™◊û◊ï◊ö ◊ë◊û◊ï◊ì◊ú ◊î-RCpc, ◊ê◊©◊® ◊î◊ï◊ê ◊û◊ï◊ì◊ú ◊ó◊ú◊© ◊ô◊ï◊™◊® ◊ë◊î◊©◊ï◊ï◊ê◊î ◊ú◊û◊ï◊ì◊ú◊ô◊ù ◊ê◊ó◊®◊ô◊ù.</p>
<p>◊†◊ô◊™◊ü ◊ú◊®◊ê◊ï◊™ ◊ê◊™ ◊î◊©◊§◊¢◊™ ◊î◊©◊ô◊û◊ï◊© ◊ë◊î◊ï◊®◊ê◊ï◊™ ◊î◊ú◊ú◊ï ◊ë◊™◊®◊©◊ô◊ù ◊î◊ë◊ê:</p>
<figure>
    <img src="/posts/barriers/acquire-release/Figure_5_Load-AcquirePC_instructions.svg"class="dark-image"
    ><figcaption class="image-title">Figure 5 Load-AcquirePC instructions from Load-Acquire and Store-Release instructions (developer.arm.com)</figcaption></figure><style>
  .dark-image {
    background-color: white;
  }

  .image-title {
    width: 50%;
    margin: auto;
  }
</style>
<p>◊©◊ô◊†◊ï◊ô ◊û◊©◊û◊¢◊ï◊™◊ô ◊ë◊û◊ï◊ì◊ú ◊ñ◊î ◊î◊ï◊ê ◊©◊î◊ì◊®◊ô◊©◊î ◊ú◊õ◊ö ◊©◊í◊ô◊©◊ï◊™ Load-Acquire ◊ô◊î◊ô◊ï ◊†◊¶◊§◊ï◊™ ◊ë◊°◊ì◊® ◊ß◊ë◊ï◊¢ ◊¢◊ù store-releases ◊î◊ß◊ï◊ì◊û◊ï◊™ ◊î◊ï◊°◊®◊î ◊ë◊î◊ï◊®◊ê◊ï◊™ Load-AcquirePC ◊î◊ó◊ì◊©◊ï◊™, ◊ì◊ë◊® ◊©◊û◊ß◊ú ◊¢◊ú ◊î◊©◊ô◊û◊ï◊© ◊ë◊î◊ü ◊ï◊û◊ê◊§◊©◊® ◊í◊û◊ô◊©◊ï◊™ ◊®◊ë◊î ◊ô◊ï◊™◊® ◊ë◊î◊°◊ì◊®◊™ ◊í◊ô◊©◊ï◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü.</p>
<p>◊î◊î◊ï◊®◊ê◊î LDAPR ◊ô◊ó◊ì ◊¢◊ù ◊î◊ï◊®◊ê◊ï◊™ store release, ◊û◊ê◊§◊©◊®◊™ ◊ê◊û◊ï◊ú◊¶◊ô◊î ◊ô◊¢◊ô◊ú◊î ◊©◊ú x86-TSO.</p>
<h3 id="◊ß◊ë◊ô◊¢◊™-◊ì◊ï◊û◊ô◊ô◊ü">
  ◊ß◊ë◊ô◊¢◊™ ◊ì◊ï◊û◊ô◊ô◊ü
  <a class="heading-link" href="#%d7%a7%d7%91%d7%99%d7%a2%d7%aa-%d7%93%d7%95%d7%9e%d7%99%d7%99%d7%9f">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊î◊ì◊ï◊û◊ô◊ô◊ü shareability ◊ß◊ï◊ë◊¢ ◊ê◊™ ◊ò◊ï◊ï◊ó ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊ë◊î◊ù ◊†◊©◊û◊® ◊î◊°◊ì◊® ◊©◊ô◊¶◊®◊ï ◊î◊ï◊®◊ê◊ï◊™ ◊ê◊ú◊ï, ◊ë◊î◊™◊ê◊ù ◊ú◊©◊ô◊™◊ï◊£ ◊î◊õ◊™◊ï◊ë◊™ ◊©◊†◊í◊ô◊©◊î. ◊ú◊ì◊ï◊í◊û◊î, ◊ê◊ù ◊û◊¢◊ë◊ì P0 ◊ï◊û◊¢◊ë◊ì P1 ◊†◊û◊¶◊ê◊ô◊ù ◊ë◊ì◊ï◊û◊ô◊ô◊†◊ô◊ù ◊©◊ï◊†◊ô◊ù (◊ú◊û◊©◊ú, ◊î◊ù ◊ú◊ê ◊†◊û◊¶◊ê◊ô◊ù ◊ë◊ê◊ï◊™◊ï ◊ì◊ï◊û◊ô◊ô◊ü Inner), ◊ô◊ô◊™◊õ◊ü ◊©-P1 ◊ô◊ë◊ó◊ô◊ü ◊ë◊¢◊ì◊õ◊ï◊ü ◊û◊ô◊ß◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊ë-<code>X3</code> ◊ú◊§◊†◊ô ◊©-<code>X1</code> ◊¢◊ï◊ì◊õ◊ü, ◊ê◊ù ◊î◊õ◊™◊ï◊ë◊™ ◊ë-<code>X3</code> ◊î◊ô◊ê ◊ë◊ì◊ï◊û◊ô◊ô◊ü ◊©◊ô◊™◊ï◊£ ◊§◊†◊ô◊û◊ô.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="line"><span class="ln">1</span><span class="cl"><span class="nf">P0</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nf">STR</span>  <span class="p">,</span> <span class="p">[</span><span class="no">X1</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="nf">STLR</span> <span class="p">,</span> <span class="p">[</span><span class="no">X3</span><span class="p">]</span>
</span></span></code></pre></div><h1 id="lkmm">
  LKMM
  <a class="heading-link" href="#lkmm">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<h2 id="release">
  Release
  <a class="heading-link" href="#release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>◊§◊¢◊ï◊ú◊ï◊™  Release ◊û◊©◊û◊©◊ï◊™ ◊ú◊î◊ë◊ò◊ó◊™ ◊°◊ì◊® ◊ë◊ñ◊ô◊õ◊®◊ï◊ü ◊¢◊ú ◊ô◊ì◊ô ◊õ◊ö ◊©◊î◊ü ◊û◊°◊ì◊®◊ï◊™ ◊ê◊™ ◊î-store ◊©◊ú◊î◊ü ◊û◊ï◊ú ◊õ◊ú ◊í◊ô◊©◊î ◊ß◊ï◊ì◊û◊™ ◊ú◊ñ◊ô◊õ◊®◊ï◊ü (◊ë◊ê◊ï◊™◊ï ◊û◊¢◊ë◊ì).</p>
<p>◊°◊ô◊ì◊ï◊® ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ú release ◊û◊ë◊ò◊ô◊ó ◊©◊õ◊ú ◊î-stores ◊©◊ë◊ï◊¶◊¢◊ï ◊ß◊ï◊ì◊ù ◊ë◊°◊ì◊® ◊î◊™◊ï◊õ◊†◊ô◊™ ◊ë◊ê◊ï◊™◊ï ◊û◊¢◊ë◊ì, ◊õ◊û◊ï ◊í◊ù ◊õ◊ú ◊î-stores ◊î◊û◊ï◊§◊¶◊ô◊ù ◊û◊û◊¢◊ë◊ì◊ô◊ù ◊ê◊ó◊®◊ô◊ù, ◊ô◊™◊§◊©◊ò◊ï ◊ú◊õ◊ú ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊ë◊û◊¢◊®◊õ◊™ ◊ú◊§◊†◊ô ◊©◊§◊¢◊ï◊ú◊™ ◊î-release ◊™◊ï◊©◊ú◊ù. ◊ñ◊î◊ï ◊û◊ê◊§◊ô◊ô◊ü A-cumulative.</p>
<h3 id="◊ô◊™◊®◊ï◊†◊ï◊™">
  ◊ô◊™◊®◊ï◊†◊ï◊™
  <a class="heading-link" href="#%d7%99%d7%aa%d7%a8%d7%95%d7%a0%d7%95%d7%aa">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ë◊í◊ú◊ú ◊ê◊ï◊§◊ü ◊î◊§◊¢◊ï◊ú◊î ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ Release, ◊î◊ü ◊û◊ê◊§◊©◊®◊ï◊™ ◊ë◊ì◊®◊ö ◊õ◊ú◊ú ◊ß◊ï◊ì ◊§◊©◊ï◊ò ◊ï◊ß◊®◊ô◊ê ◊ô◊ï◊™◊® ◊¢◊ù ◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊û◊©◊ï◊§◊®◊ô◊ù ◊ë◊î◊©◊ï◊ï◊ê◊î ◊ú◊©◊ô◊û◊ï◊© ◊ë◊û◊ó◊°◊ï◊û◊ô◊ù ◊û◊§◊ï◊®◊©◊ô◊ù ◊õ◊í◊ï◊ü <code>smp_wmb</code>. ◊ú◊ì◊ï◊í◊û◊î, ◊©◊ô◊û◊ï◊© ◊ë-<code>smp_store_release</code> ◊ô◊õ◊ï◊ú ◊ú◊î◊ó◊ú◊ô◊£ ◊ê◊™ ◊î◊¶◊ï◊®◊ö ◊ë-<code>smp_wmb</code>, ◊™◊ï◊ö ◊©◊û◊ô◊®◊î ◊¢◊ú ◊°◊ì◊® ◊õ◊™◊ô◊ë◊î ◊†◊õ◊ï◊ü ◊ë◊ñ◊ô◊õ◊®◊ï◊ü:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln">1</span><span class="cl"><span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nf">smp_store_release</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><p>◊ë◊ì◊®◊ö ◊õ◊ú◊ú, ◊î◊¢◊®◊ö ◊î◊û◊ê◊ï◊ó◊°◊ü ◊¢◊ú ◊ô◊ì◊ô ◊§◊¢◊ï◊ú◊™ Release, ◊õ◊û◊ï ◊ë◊õ◊™◊ô◊ë◊î ◊ú-<code>y</code> ◊ë◊ì◊ï◊í◊û◊î, ◊ô◊©◊û◊© ◊õ◊ó◊ú◊ß ◊û◊ê◊ú◊í◊ï◊®◊ô◊™◊ù ◊û◊ß◊ë◊ô◊ú◊ô, ◊©◊ë◊ï ◊ó◊ú◊ß◊ô◊ù ◊ê◊ó◊®◊ô◊ù ◊ë◊ê◊ú◊í◊ï◊®◊ô◊™◊ù ◊ô◊ô◊í◊©◊ï ◊ê◊ú◊ô◊ï ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊§◊¢◊ï◊ú◊™ Acquire. ◊ë◊õ◊ö, ◊§◊¢◊ï◊ú◊™ ◊î-Release ◊û◊ß◊ú◊î ◊¢◊ú ◊™◊ô◊ê◊ï◊ù ◊ë◊ô◊ü ◊û◊¢◊ë◊ì◊ô◊ù ◊©◊ï◊†◊ô◊ù ◊ë◊ê◊ú◊í◊ï◊®◊ô◊™◊ù, ◊ï◊û◊°◊§◊ß◊™ ◊ë◊°◊ô◊° ◊ú◊©◊ô◊™◊ï◊£ ◊û◊ô◊ì◊¢ ◊ë◊¶◊ï◊®◊î ◊¢◊ß◊ë◊ô◊™.</p>
<p>◊ë◊û◊ß◊®◊î ◊ë◊ï ◊†◊ì◊®◊© ◊°◊ô◊ì◊ï◊® ◊¢◊ë◊ï◊® ◊ß◊®◊ô◊ê◊î ◊û-<code>x</code> ◊ï◊ú◊ê ◊õ◊™◊ô◊ë◊î (◊õ◊û◊ï ◊ß◊ï◊ì◊ù), ◊õ◊û◊ï ◊ë◊ì◊ï◊í◊û◊î ◊î◊ë◊ê◊î:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">r1</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nf">smp_mb</span><span class="p">();</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><p>◊ê◊§◊©◊® ◊ú◊î◊©◊™◊û◊© ◊ë-<code>smp_mb</code> ◊õ◊ì◊ô ◊ú◊î◊ë◊ò◊ô◊ó ◊ê◊™ ◊î◊°◊ì◊® ◊î◊†◊ì◊®◊©. ◊ê◊ï◊ú◊ù <code>smp_mb</code> ◊û◊ô◊ô◊¶◊® ◊ú◊¢◊ô◊™◊ô◊ù ◊™◊ß◊ï◊®◊î ◊í◊ë◊ï◊î◊î. ◊ú◊¢◊ï◊û◊™ ◊ñ◊ê◊™, <code>smp_store_release</code> ◊ô◊°◊§◊ß ◊ê◊™ ◊î◊°◊ì◊® ◊î◊ì◊®◊ï◊© ◊ë◊¶◊ï◊®◊î ◊ô◊¢◊ô◊ú◊î ◊ô◊ï◊™◊®, ◊ú◊ú◊ê ◊î◊™◊ß◊ï◊®◊î ◊î◊í◊ë◊ï◊î◊î ◊©◊ú <code>smp_mb</code>.</p>
<p>◊ë-x86, ◊î-<code>smp_store_release</code> ◊¢◊©◊ï◊ô ◊ú◊î◊™◊ß◊û◊§◊ú ◊ú◊î◊ï◊®◊ê◊ï◊™ ◊ë◊°◊ô◊°◊ô◊ï◊™ ◊©◊ú <code>load</code> ◊ï-<code>store</code>, ◊û◊î ◊©◊û◊ê◊§◊©◊® ◊î◊ï◊®◊ê◊î ◊§◊©◊ï◊ò◊î ◊ï◊ô◊¢◊ô◊ú◊î ◊ë◊î◊®◊ë◊î. ◊ú◊¢◊ï◊û◊™ ◊ñ◊ê◊™, <code>smp_mb</code> ◊û◊¶◊®◊ô◊ö ◊î◊ï◊®◊ê◊î ◊û◊ï◊®◊õ◊ë◊™ ◊ô◊ï◊™◊®, ◊û◊î ◊©◊û◊í◊ë◊ô◊® ◊ê◊™ ◊î◊™◊ß◊ï◊®◊î ◊ë◊©◊ô◊û◊ï◊© ◊ë◊ï.</p>
<h3 id="◊°◊ï◊í◊ô-◊§◊¢◊ï◊ú◊ï◊™-release">
  ◊°◊ï◊í◊ô ◊§◊¢◊ï◊ú◊ï◊™ Release
  <a class="heading-link" href="#%d7%a1%d7%95%d7%92%d7%99-%d7%a4%d7%a2%d7%95%d7%9c%d7%95%d7%aa-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ß◊ô◊ô◊û◊ï◊™ ◊û◊°◊§◊® ◊§◊¢◊ï◊ú◊ï◊™ Release ◊©◊û◊°◊§◊ß◊ï◊™ ◊û◊†◊í◊†◊ï◊†◊ô◊ù ◊©◊ï◊†◊ô◊ù ◊ú◊î◊ë◊ò◊ó◊™ ◊°◊ô◊ì◊ï◊®:</p>
<h4 id="◊§◊¢◊ï◊ú◊ï◊™-◊õ◊™◊ô◊ë◊î-◊ê◊ò◊ï◊û◊ô◊ï◊™-◊ú◊ú◊ê-◊î◊ó◊ñ◊®◊™-◊¢◊®◊ö">
  ◊§◊¢◊ï◊ú◊ï◊™ ◊õ◊™◊ô◊ë◊î ◊ê◊ò◊ï◊û◊ô◊ï◊™ ◊ú◊ú◊ê ◊î◊ó◊ñ◊®◊™ ◊¢◊®◊ö
  <a class="heading-link" href="#%d7%a4%d7%a2%d7%95%d7%9c%d7%95%d7%aa-%d7%9b%d7%aa%d7%99%d7%91%d7%94-%d7%90%d7%98%d7%95%d7%9e%d7%99%d7%95%d7%aa-%d7%9c%d7%9c%d7%90-%d7%94%d7%97%d7%96%d7%a8%d7%aa-%d7%a2%d7%a8%d7%9a">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>◊§◊¢◊ï◊ú◊ï◊™ ◊ê◊ú◊ï ◊õ◊ï◊ú◊ú◊ï◊™ ◊ê◊™ <code>smp_store_release</code>, ◊õ◊û◊ï ◊í◊ù ◊ê◊™ <code>atomic_set_release</code> ◊ï-<code>atomic_long_set_release</code>.</p>
<h4 id="◊§◊¢◊ï◊ú◊ï◊™-rmw-◊¢◊ù-◊î◊ó◊ñ◊®◊™-◊¢◊®◊ö">
  ◊§◊¢◊ï◊ú◊ï◊™ RMW ◊¢◊ù ◊î◊ó◊ñ◊®◊™ ◊¢◊®◊ö
  <a class="heading-link" href="#%d7%a4%d7%a2%d7%95%d7%9c%d7%95%d7%aa-rmw-%d7%a2%d7%9d-%d7%94%d7%97%d7%96%d7%a8%d7%aa-%d7%a2%d7%a8%d7%9a">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>◊§◊¢◊ï◊ú◊ï◊™ RMW ◊ê◊ò◊ï◊û◊ô◊ï◊™ ◊©◊û◊ó◊ñ◊ô◊®◊ï◊™ ◊¢◊®◊ö, ◊©◊û◊°◊§◊ß◊ï◊™ ◊°◊ô◊ì◊ï◊® Release ◊©◊©◊û◊ï◊™◊ô◊î◊ü ◊û◊°◊™◊ô◊ô◊û◊ï◊™ ◊ë-<code>_release</code>. ◊ì◊ï◊í◊û◊ê◊ï◊™ ◊õ◊ï◊ú◊ú◊ï◊™ ◊ê◊™ <code>atomic_fetch_add_release</code> ◊ï-<code>cmpxchg_release</code>. ◊¢◊ù ◊ñ◊ê◊™, ◊ó◊©◊ï◊ë ◊ú◊©◊ô◊ù ◊ú◊ë ◊©◊°◊ô◊ì◊ï◊® Release ◊û◊ï◊ë◊ò◊ó ◊®◊ß ◊¢◊ë◊ï◊® ◊ó◊ú◊ß ◊î-store ◊©◊ú ◊§◊¢◊ï◊ú◊™ ◊î-RMW, ◊õ◊ú◊ï◊û◊® ◊°◊ì◊® ◊ñ◊î ◊û◊ë◊ò◊ô◊ó ◊®◊ß ◊©◊î◊õ◊™◊ô◊ë◊î ◊™◊™◊ß◊ô◊ô◊ù ◊ê◊ó◊®◊ô ◊õ◊ú ◊î◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ß◊ï◊ì◊û◊ï◊™ ◊ë◊ñ◊ô◊õ◊®◊ï◊ü, ◊ï◊ú◊ê ◊¢◊ë◊ï◊® ◊ó◊ú◊ß ◊î-load ◊©◊ë◊ï◊¶◊¢ ◊õ◊ó◊ú◊ß ◊û◊î-RMW.</p>
<p>◊ë◊†◊ï◊°◊£, ◊¢◊ë◊ï◊® ◊§◊¢◊ï◊ú◊ï◊™ ◊û◊ï◊™◊†◊ï◊™ ◊õ◊û◊ï <code>cmpxchg_release</code>, ◊ô◊© ◊ú◊ñ◊õ◊ï◊® ◊©◊î◊ü ◊û◊°◊§◊ß◊ï◊™ ◊°◊ô◊ì◊ï◊® ◊ñ◊î ◊®◊ß ◊ê◊ù ◊î◊§◊¢◊ï◊ú◊î ◊î◊¶◊ú◊ô◊ó◊î.</p>
<h2 id="acquire">
  Acquire
  <a class="heading-link" href="#acquire">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>◊§◊¢◊ï◊ú◊ï◊™ Acquire ◊û◊ë◊ò◊ô◊ó◊ï◊™ ◊©◊î-load ◊©◊ú◊î◊ü ◊ô◊™◊ß◊ô◊ô◊ù ◊ë◊°◊ì◊® ◊†◊õ◊ï◊ü ◊ë◊ô◊ó◊° ◊ú◊í◊ô◊©◊ï◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊ß◊ï◊ì◊û◊ï◊™ ◊ï◊î◊ë◊ê◊ï◊™ ◊©◊ú ◊î◊û◊¢◊ë◊ì, ◊õ◊ö ◊©◊õ◊ú ◊§◊¢◊ï◊ú◊î ◊©◊û◊™◊ë◊¶◊¢◊™ ◊ú◊ê◊ó◊® ◊§◊¢◊ï◊ú◊™ ◊î-Acquire ◊™◊™◊ß◊ô◊ô◊ù ◊®◊ß ◊ê◊ó◊®◊ô ◊î-load ◊î◊†◊ï◊õ◊ó◊ô. ◊ë◊î◊©◊ï◊ï◊ê◊î ◊ú◊û◊ó◊°◊ï◊û◊ô ◊ñ◊ô◊õ◊®◊ï◊ü ◊õ◊ú◊ú◊ô◊ô◊ù (◊õ◊í◊ï◊ü <code>smp_rmb</code>), ◊§◊¢◊ï◊ú◊ï◊™ Acquire ◊û◊ê◊§◊©◊®◊ï◊™ ◊ß◊ï◊ì ◊ß◊®◊ô◊ê ◊ô◊ï◊™◊® ◊ï◊ë◊¢◊ú ◊ë◊ô◊¶◊ï◊¢◊ô◊ù ◊û◊©◊ï◊§◊®◊ô◊ù.</p>
<h3 id="◊ì◊ï◊í◊û◊î-◊ú◊°◊ô◊ì◊ï◊®-◊ñ◊ô◊õ◊®◊ï◊ü-◊ë◊ê◊û◊¶◊¢◊ï◊™-smp_load_acquire">
  ◊ì◊ï◊í◊û◊î ◊ú◊°◊ô◊ì◊ï◊® ◊ñ◊ô◊õ◊®◊ï◊ü ◊ë◊ê◊û◊¶◊¢◊ï◊™ <code>smp_load_acquire</code>
  <a class="heading-link" href="#%d7%93%d7%95%d7%92%d7%9e%d7%94-%d7%9c%d7%a1%d7%99%d7%93%d7%95%d7%a8-%d7%96%d7%99%d7%9b%d7%a8%d7%95%d7%9f-%d7%91%d7%90%d7%9e%d7%a6%d7%a2%d7%95%d7%aa-smp_load_acquire">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ë◊û◊ß◊ï◊ù ◊ú◊î◊©◊™◊û◊© ◊ë-<code>smp_rmb</code> ◊õ◊ì◊ô ◊ú◊î◊ë◊ò◊ô◊ó ◊°◊ô◊ì◊ï◊® ◊ñ◊ô◊õ◊®◊ï◊ü, ◊†◊ô◊™◊ü ◊ú◊î◊©◊™◊û◊© ◊ë-<code>smp_load_acquire</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">r0</span> <span class="o">=</span> <span class="nf">smp_load_acquire</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="n">r1</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span></code></pre></div><p>◊õ◊û◊ï ◊§◊¢◊ï◊ú◊™ <code>smp_store_release</code>, ◊§◊¢◊ï◊ú◊™ <code>smp_load_acquire</code> ◊û◊ê◊§◊©◊®◊™ ◊ú◊ê◊ú◊í◊ï◊®◊ô◊™◊ù ◊î◊û◊ß◊ë◊ô◊ú◊ô ◊ú◊§◊¢◊ï◊ú ◊ë◊¶◊ï◊®◊î ◊°◊ô◊†◊õ◊®◊ï◊†◊ô◊™ ◊¢◊ú ◊ô◊ì◊ô ◊ô◊¶◊ô◊®◊™ ◊°◊ô◊ì◊ï◊® ◊ë◊®◊ï◊® ◊û◊ï◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊î-Release. ◊ë◊û◊ß◊®◊î ◊ñ◊î, <code>smp_load_acquire</code> ◊ô◊¢◊ô◊ú ◊ô◊ï◊™◊® ◊û-<code>smp_rmb</code>, ◊û◊©◊ï◊ù ◊©◊î◊ï◊ê ◊û◊°◊§◊ß ◊°◊ô◊ì◊ï◊® ◊û◊ï◊ú ◊õ◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊î-store ◊ï◊î-load ◊î◊û◊™◊®◊ó◊©◊ï◊™ ◊ú◊ê◊ó◊®◊ô◊ï, ◊ï◊ú◊ê ◊®◊ß ◊û◊ï◊ú ◊§◊¢◊ï◊ú◊ï◊™ ◊î-load.</p>
<h3 id="◊°◊ï◊í◊ô-◊§◊¢◊ï◊ú◊ï◊™-acquire">
  ◊°◊ï◊í◊ô ◊§◊¢◊ï◊ú◊ï◊™ Acquire
  <a class="heading-link" href="#%d7%a1%d7%95%d7%92%d7%99-%d7%a4%d7%a2%d7%95%d7%9c%d7%95%d7%aa-acquire">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ô◊©◊†◊ù ◊û◊°◊§◊® ◊°◊ï◊í◊ô◊ù ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ Acquire, ◊õ◊ú ◊ê◊ó◊ì ◊û◊î◊ù ◊û◊™◊ê◊ô◊ù ◊ú◊©◊ô◊û◊ï◊©◊ô◊ù ◊©◊ï◊†◊ô◊ù:</p>
<h4 id="◊§◊¢◊ï◊ú◊ï◊™-◊ß◊®◊ô◊ê◊î-◊ê◊ò◊ï◊û◊ô◊ï◊™-◊¢◊ù-acquire">
  ◊§◊¢◊ï◊ú◊ï◊™ ◊ß◊®◊ô◊ê◊î ◊ê◊ò◊ï◊û◊ô◊ï◊™ ◊¢◊ù Acquire
  <a class="heading-link" href="#%d7%a4%d7%a2%d7%95%d7%9c%d7%95%d7%aa-%d7%a7%d7%a8%d7%99%d7%90%d7%94-%d7%90%d7%98%d7%95%d7%9e%d7%99%d7%95%d7%aa-%d7%a2%d7%9d-acquire">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>◊§◊¢◊ï◊ú◊ï◊™ ◊ê◊ú◊ï ◊õ◊ï◊ú◊ú◊ï◊™ ◊û◊°◊§◊® ◊§◊ï◊†◊ß◊¶◊ô◊ï◊™ ◊õ◊û◊ï <code>smp_load_acquire</code>, <code>atomic_read_acquire</code>, <code>atomic64_read_acquire</code> ◊ï-<code>test_bit_acquire</code>. ◊õ◊ú ◊ê◊ó◊™ ◊û◊§◊¢◊ï◊ú◊ï◊™ ◊ê◊ú◊ï ◊û◊°◊§◊ß◊™ ◊ê◊™ ◊°◊ô◊ì◊ï◊® ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊†◊ì◊®◊© ◊¢◊ë◊ï◊® ◊§◊¢◊ï◊ú◊™ load, ◊ï◊û◊ë◊ò◊ô◊ó◊î ◊õ◊ô ◊§◊¢◊ï◊ú◊ï◊™ ◊î◊ß◊®◊ô◊ê◊î ◊ï◊î◊õ◊™◊ô◊ë◊î ◊ë◊ñ◊ô◊õ◊®◊ï◊ü ◊©◊ô◊ë◊ï◊ê◊ï ◊ê◊ó◊®◊ô◊î◊ü ◊ô◊™◊ß◊ô◊ô◊û◊ï ◊®◊ß ◊ú◊ê◊ó◊®◊ô◊î.</p>
<h4 id="◊§◊¢◊ï◊ú◊ï◊™-rmw-◊¢◊ù-acquire-◊©◊û◊ó◊ñ◊ô◊®◊ï◊™-◊¢◊®◊ö">
  ◊§◊¢◊ï◊ú◊ï◊™ RMW ◊¢◊ù Acquire ◊©◊û◊ó◊ñ◊ô◊®◊ï◊™ ◊¢◊®◊ö
  <a class="heading-link" href="#%d7%a4%d7%a2%d7%95%d7%9c%d7%95%d7%aa-rmw-%d7%a2%d7%9d-acquire-%d7%a9%d7%9e%d7%97%d7%96%d7%99%d7%a8%d7%95%d7%aa-%d7%a2%d7%a8%d7%9a">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>◊§◊¢◊ï◊ú◊ï◊™ RMW ◊ê◊ò◊ï◊û◊ô◊ï◊™ ◊û◊ó◊ñ◊ô◊®◊ï◊™ ◊¢◊®◊ö ◊©◊©◊û◊ü ◊û◊°◊™◊ô◊ô◊ù ◊ë-<code>_acquire</code> (◊õ◊í◊ï◊ü <code>atomic_xchg_acquire</code> ◊ï-<code>atomic_cmpxchg_acquire</code>) ◊û◊°◊§◊ß◊ï◊™ ◊°◊ô◊ì◊ï◊® Acquire ◊®◊ß ◊¢◊ë◊ï◊® ◊ó◊ú◊ß ◊î-load ◊©◊ú ◊§◊¢◊ï◊ú◊™ ◊î-RMW, ◊ï◊ú◊ê ◊¢◊ë◊ï◊® ◊ó◊ú◊ß ◊î-store. ◊õ◊û◊ï ◊õ◊ü, ◊§◊¢◊ï◊ú◊ï◊™ ◊û◊ï◊™◊†◊ï◊™, ◊õ◊û◊ï <code>atomic_cmpxchg_acquire</code> ◊ï-<code>test_and_set_bit_lock</code>, ◊û◊ë◊ò◊ô◊ó◊ï◊™ ◊°◊ô◊ì◊ï◊® ◊ñ◊î ◊®◊ß ◊ê◊ù ◊î◊ü ◊û◊¶◊ú◊ô◊ó◊ï◊™.</p>
<h2 id="acquire--release">
  acquire &amp; release
  <a class="heading-link" href="#acquire--release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="◊©◊ô◊û◊ï◊©-acquire-◊¢◊ù-release">
  ◊©◊ô◊û◊ï◊© Acquire ◊¢◊ù Release
  <a class="heading-link" href="#%d7%a9%d7%99%d7%9e%d7%95%d7%a9-acquire-%d7%a2%d7%9d-release">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊ú◊®◊ï◊ë ◊î◊ï◊®◊ê◊ï◊™ ◊û◊ó◊°◊ï◊ù ◊î◊ñ◊ô◊õ◊®◊ï◊ü ◊î◊ó◊ú◊©◊ï◊™ ◊î◊û◊©◊û◊©◊ï◊™ ◊ú◊ô◊ô◊©◊ï◊ù <code>smp_load_acquire</code> ◊ï-<code>smp_store_release</code> ◊ï◊î◊ü ◊ê◊ô◊†◊ü ◊†◊ì◊®◊©◊ï◊™ ◊ú◊°◊ì◊® stores ◊ß◊ï◊ì◊û◊ô◊ù ◊ë◊ô◊ó◊° ◊ú-loads ◊î◊ë◊ê◊ô◊ù ◊ë◊õ◊ú ◊î◊û◊ß◊®◊ô◊ù.</p>
<p>◊¢◊ù ◊ñ◊ê◊™, ◊ñ◊õ◊ï◊® ◊õ◊ô <code>smp_load_acquire</code> ◊ê◊ô◊†◊ï ◊ß◊°◊ù. ◊ë◊§◊®◊ò, ◊î◊ï◊ê ◊§◊©◊ï◊ò ◊ß◊ï◊®◊ê ◊û◊î◊ê◊®◊í◊ï◊û◊†◊ò ◊©◊ú◊ï ◊¢◊ù ◊°◊ì◊®. ◊ñ◊î <strong>◊ú◊ê</strong> ◊û◊ë◊ò◊ô◊ó ◊©◊¢◊®◊ö ◊û◊°◊ï◊ô◊ù ◊ô◊ô◊ß◊®◊ê.</p>
<p>◊§◊¢◊ï◊ú◊ï◊™ ◊î-acquire ◊û◊ï◊¶◊û◊ì◊ï◊™ ◊ú◊®◊ï◊ë ◊ú◊§◊¢◊ï◊ú◊ï◊™ ◊î-release. ◊ú◊ì◊ï◊í◊û◊î, ◊©◊ß◊ï◊ú ◊ê◊™ ◊î◊ì◊ï◊í◊û◊î ◊î◊ë◊ê◊î, ◊©◊ë◊î <code>task0</code> ◊ï- <code>task1</code> ◊§◊ï◊¢◊ú◊ï◊™ ◊ë◊û◊ß◊ë◊ô◊ú:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kt">void</span> <span class="nf">task0</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">	<span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">	<span class="nf">smp_store_release</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="kt">void</span> <span class="nf">task1</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">	<span class="n">r0</span> <span class="o">=</span> <span class="nf">smp_load_acquire</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">	<span class="n">r1</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>◊ê◊ù ◊†◊†◊ô◊ó ◊©◊î◊¢◊®◊õ◊ô◊ù ◊î◊î◊™◊ó◊ú◊™◊ô◊ô◊ù ◊©◊ú <code>x</code> ◊ï-<code>y</code> ◊î◊ù ◊ê◊§◊°, ◊ê◊ñ ◊î◊¢◊®◊õ◊ô◊ù ◊î◊°◊ï◊§◊ô◊ô◊ù ◊©◊ú <code>r0</code> ◊ï-<code>r1</code> ◊ô◊õ◊ï◊ú◊ô◊ù ◊ú◊î◊ô◊ï◊™:</p>
<ul>
<li>◊ê◊ï ◊©-<code>r0</code> ◊ï-<code>r1</code> ◊©◊†◊ô◊î◊ù ◊ê◊§◊°,</li>
<li>◊ê◊ï ◊©-<code>r0</code> ◊©◊ï◊ï◊î ◊ú-<code>r1</code>.</li>
</ul>
<p>◊î◊™◊ï◊¶◊ê◊î ◊î◊ô◊ó◊ô◊ì◊î ◊©◊ê◊ô◊†◊î ◊û◊ï◊™◊®◊™ ◊î◊ô◊ê ◊û◊¶◊ë ◊©◊ë◊ï <code>r0</code> ◊û◊õ◊ô◊ú ◊ê◊§◊° ◊ï-<code>r1</code> ◊û◊õ◊ô◊ú 1, ◊û◊õ◊ô◊ï◊ï◊ü ◊©◊î◊ô◊ê ◊°◊ï◊™◊®◊™ ◊ê◊™ ◊î◊°◊ô◊ì◊ï◊® ◊î◊†◊ì◊®◊© ◊©◊û◊ë◊ò◊ô◊ó◊ï◊™ ◊§◊¢◊ï◊ú◊ï◊™ ◊î-Acquire ◊ï◊î-Release.</p>
<h3 id="◊©◊®◊©◊®◊ê◊ï◊™-release-acquire">
  ◊©◊®◊©◊®◊ê◊ï◊™ Release-Acquire
  <a class="heading-link" href="#%d7%a9%d7%a8%d7%a9%d7%a8%d7%90%d7%95%d7%aa-release-acquire">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊©◊®◊©◊®◊ê◊ï◊™ ◊©◊ú ◊§◊¢◊ï◊ú◊ï◊™ release-acquire ◊û◊°◊§◊ß◊ï◊™ ◊õ◊ú◊ô ◊ô◊¢◊ô◊ú, ◊í◊û◊ô◊© ◊ï◊†◊ï◊ó ◊ú◊ô◊¶◊ô◊®◊™ ◊°◊ì◊® ◊¢◊ß◊ë◊ô ◊ë◊ô◊ü ◊§◊¢◊ï◊ú◊ï◊™ ◊¢◊ú ◊§◊†◊ô ◊û◊¢◊ë◊ì◊ô◊ù ◊©◊ï◊†◊ô◊ù. ◊¢◊ù ◊ñ◊ê◊™, ◊ô◊©◊†◊ù ◊û◊°◊§◊® ◊û◊í◊ë◊ú◊ï◊™ ◊ï◊§◊®◊ò◊ô◊ù ◊ó◊©◊ï◊ë◊ô◊ù ◊©◊®◊ê◊ï◊ô ◊ú◊î◊ë◊ô◊ü.</p>
<p>◊ú◊î◊ú◊ü ◊ì◊ï◊í◊û◊î ◊ë◊°◊ô◊°◊ô◊™ ◊î◊û◊©◊™◊û◊©◊™ ◊ë◊©◊®◊©◊®◊™ release-acquire ◊õ◊ì◊ô ◊ú◊©◊û◊ï◊® ◊¢◊ú ◊î◊°◊ì◊®:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="cm">/* See ISA2+pooncerelease+poacquirerelease+poacquireonce.litmus. */</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kt">void</span> <span class="nf">CPU0</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">	<span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">	<span class="nf">smp_store_release</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="kt">void</span> <span class="nf">CPU1</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">	<span class="n">r0</span> <span class="o">=</span> <span class="nf">smp_load_acquire</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">	<span class="nf">smp_store_release</span><span class="p">(</span><span class="o">&amp;</span><span class="n">z</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="kt">void</span> <span class="nf">CPU2</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">	<span class="n">r1</span> <span class="o">=</span> <span class="nf">smp_load_acquire</span><span class="p">(</span><span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">	<span class="n">r2</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>◊ë◊™◊®◊ó◊ô◊© ◊ñ◊î, ◊ê◊ù ◊¢◊®◊õ◊ô◊î◊ù ◊î◊°◊ï◊§◊ô◊ô◊ù ◊©◊ú <code>r0</code> ◊ï-<code>r1</code> ◊î◊ù ◊©◊†◊ô◊î◊ù 1, ◊ê◊ñ ◊í◊ù <code>r2</code> ◊ó◊ô◊ô◊ë ◊ú◊ß◊ë◊ú ◊¢◊®◊ö ◊°◊ï◊§◊ô ◊©◊ú 1. ◊õ◊ê◊ü ◊û◊™◊ß◊ô◊ô◊ù ◊°◊ì◊® ◊í◊ú◊ï◊ë◊ú◊ô ◊ó◊ñ◊ß, ◊ê◊ö ◊ú◊û◊¢◊©◊î ◊î◊ï◊ê ◊ó◊ñ◊ß ◊ô◊ï◊™◊® ◊û◊î◊†◊ì◊®◊©. ◊ú◊ì◊ï◊í◊û◊î, ◊ê◊§◊©◊® ◊ú◊î◊ó◊ú◊ô◊£ ◊ê◊™ <code>smp_load_acquire</code> ◊©◊ú CPU1 ◊ë-<code>READ_ONCE</code>, ◊ï◊î◊°◊ì◊® ◊ô◊ô◊©◊û◊®.</p>
<p>◊¢◊ù ◊ñ◊ê◊™, ◊ó◊©◊ï◊ë ◊ú◊î◊ì◊í◊ô◊© ◊©◊©◊®◊©◊®◊™ release-acquire ◊ê◊ô◊†◊î ◊û◊ë◊ò◊ô◊ó◊î ◊©◊õ◊ú store ◊û◊™◊ë◊¶◊¢ ◊ë◊ê◊ï◊§◊ü ◊í◊ú◊ï◊ë◊ú◊ô ◊ú◊§◊ô ◊î◊°◊ì◊® ◊î◊û◊ì◊ï◊ô◊ß ◊©◊¶◊ï◊§◊î ◊î◊û◊©◊™◊û◊©. ◊ú◊ì◊ï◊í◊û◊î, ◊†◊†◊ô◊ó ◊ê◊™ ◊î◊™◊ï◊õ◊†◊ô◊™ ◊î◊ë◊ê◊î:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="cm">/* See Z6.0+pooncerelease+poacquirerelease+mbonceonce.litmus. */</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kt">void</span> <span class="nf">CPU0</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">	<span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">	<span class="nf">smp_store_release</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="kt">void</span> <span class="nf">CPU1</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">	<span class="n">r0</span> <span class="o">=</span> <span class="nf">smp_load_acquire</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">	<span class="nf">smp_store_release</span><span class="p">(</span><span class="o">&amp;</span><span class="n">z</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="kt">void</span> <span class="nf">CPU2</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">	<span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">	<span class="nf">smp_mb</span><span class="p">();</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">	<span class="n">r1</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>◊ô◊ô◊™◊õ◊ü ◊©◊†◊®◊¶◊î ◊ú◊ó◊©◊ï◊ë ◊©◊ê◊ù <code>r0</code> ◊î◊ï◊ê 1 ◊ï◊î◊¢◊®◊ö ◊©◊ú <code>z</code> ◊ë◊°◊ï◊£ ◊î◊ï◊ê 2, ◊ê◊ñ <code>r1</code> ◊ô◊î◊ô◊î ◊ë◊î◊õ◊®◊ó 1. ◊¢◊ù ◊ñ◊ê◊™, ◊ë◊û◊¶◊ô◊ê◊ï◊™ <code>r1</code> ◊¢◊©◊ï◊ô ◊ú◊î◊ô◊ï◊™ 0, ◊©◊õ◊ü CPU2 ◊ê◊ô◊†◊ï ◊û◊©◊™◊™◊£ ◊ë◊©◊®◊©◊®◊™ release-acquire ◊î◊û◊ï◊í◊ì◊®◊™ ◊ë◊ô◊ü CPU0 ◊ú-CPU1. ◊õ◊ú◊ï◊û◊®, CPU2 ◊ô◊õ◊ï◊ú ◊ú◊í◊©◊™ ◊ú◊û◊©◊™◊†◊ô◊ù ◊ë◊ú◊ô ◊ú◊î◊ô◊ï◊™ ◊û◊ó◊ï◊ë◊® ◊ú◊©◊®◊©◊®◊™ ◊ñ◊ï ◊ï◊ú◊õ◊ü ◊ê◊ô◊†◊ï ◊û◊ó◊ï◊ô◊ë ◊ú◊°◊ì◊® ◊î◊í◊ú◊ï◊ë◊ú◊ô ◊©◊ú◊î.</p>
<p>◊ú◊û◊®◊ï◊™ ◊û◊í◊ë◊ú◊ï◊™ ◊ê◊ú◊ï, ◊©◊®◊©◊®◊ê◊ï◊™ release-acquire ◊†◊©◊ê◊®◊ï◊™ ◊õ◊ú◊ô ◊ó◊ô◊ï◊†◊ô ◊ï◊ô◊¢◊ô◊ú, ◊ë◊ñ◊õ◊ï◊™ ◊î◊™◊ß◊ï◊®◊î ◊î◊†◊û◊ï◊õ◊î ◊ï◊ß◊ú◊ï◊™ ◊î◊©◊ô◊û◊ï◊© ◊©◊ú◊î◊ü. ◊î◊ü ◊û◊ë◊ò◊ô◊ó◊ï◊™ ◊°◊ì◊® ◊¢◊ß◊ë◊ô ◊¢◊ë◊ï◊® ◊û◊©◊™◊™◊§◊ô◊ù ◊ë◊©◊®◊©◊®◊™, ◊õ◊ö ◊©◊ë◊û◊®◊ë◊ô◊™ ◊î◊û◊ß◊®◊ô◊ù, ◊î◊ü ◊û◊ê◊§◊©◊®◊ï◊™ ◊ô◊¶◊ô◊ë◊ï◊™ ◊ï◊§◊©◊ò◊ï◊™ ◊ë◊°◊ô◊ì◊ï◊® ◊î◊í◊ô◊©◊î ◊ú◊ñ◊ô◊õ◊®◊ï◊ü ◊ë◊û◊¢◊®◊õ◊ï◊™ ◊û◊®◊ï◊ë◊ï◊™ ◊ú◊ô◊ë◊ï◊™.</p>
<h3 id="◊û◊ô◊û◊ï◊©-◊ë-power-pc">
  ◊û◊ô◊û◊ï◊© ◊ë-Power PC
  <a class="heading-link" href="#%d7%9e%d7%99%d7%9e%d7%95%d7%a9-%d7%91-power-pc">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>◊¢◊ï◊ì ◊ì◊®◊ö ◊û◊¢◊†◊ô◊ô◊†◊™ ◊ú◊î◊ë◊ô◊ü ◊ê◊™ ◊î◊®◊¢◊ô◊ï◊ü ◊©◊ú acquire release ◊î◊ô◊ê ◊¢◊ú ◊ô◊ì◊ô ◊î◊û◊ô◊û◊ï◊© ◊©◊ú ◊î◊ß◊®◊†◊ú ◊©◊ú ◊ë◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊®◊™ PowerPC:</p>
<p>◊î◊û◊ô◊û◊ï◊© ◊û◊™◊ï◊ö <code>arch/powerpc/include/asm/barrier.h</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln"> 1</span><span class="cl"> <span class="nf">__smp_load_acquire</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>						\
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="p">({</span>									\
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">	<span class="nf">typeof</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="n">___p1</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">);</span>				\
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">	<span class="nf">compiletime_assert_atomic_type</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">);</span>				\
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">	<span class="nf">__smp_lwsync</span><span class="p">();</span>							\
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">	<span class="n">___p1</span><span class="p">;</span>								\
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"> <span class="nf">__smp_store_release</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>						\
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="k">do</span> <span class="p">{</span>									\
</span></span><span class="line"><span class="ln">11</span><span class="cl">	<span class="nf">compiletime_assert_atomic_type</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">);</span>				\
</span></span><span class="line"><span class="ln">12</span><span class="cl">	<span class="nf">__smp_lwsync</span><span class="p">();</span>							\
</span></span><span class="line"><span class="ln">13</span><span class="cl">	<span class="nf">WRITE_ONCE</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="n">v</span><span class="p">);</span>						\
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span></code></pre></div><p>◊ê◊§◊©◊® ◊ú◊®◊ê◊ï◊™ ◊©◊í◊ù ◊î-acquire ◊ï◊í◊ù ◊î-release ◊û◊û◊ï◊û◊©◊ô◊ù ◊¢◊ù ◊î◊û◊ó◊°◊ï◊ù ◊î◊ó◊ú◊© <code>lwsync</code> ◊©◊ú PowerPC, ◊ï◊î◊©◊ï◊†◊ô ◊î◊¢◊ô◊ß◊®◊ô ◊ë◊ô◊ü ◊î◊û◊ô◊û◊ï◊©◊ô◊ù ◊î◊ï◊ê ◊î◊û◊ô◊ß◊ï◊ù ◊©◊ú ◊î◊û◊ó◊°◊ï◊ù ◊ë◊ô◊ó◊° ◊ú◊î◊ï◊®◊ê◊™ ◊î◊ñ◊ô◊õ◊®◊ï◊ü: ◊ë-acquire ◊î◊û◊ó◊°◊ï◊ù ◊û◊í◊ô◊¢ ◊ê◊ó◊®◊ô ◊î◊ß◊®◊ô◊ê◊î ◊ï◊ë-release ◊î◊û◊ó◊°◊ï◊ù ◊û◊í◊ô◊¢ ◊ú◊§◊†◊ô ◊î◊õ◊™◊ô◊ë◊î.</p>
<p>◊†◊ô◊™◊ü ◊ú◊î◊©◊™◊û◊©  ◊ë-PPC ◊õ◊ì◊ô ◊ú◊î◊ë◊ô◊ü ◊ú◊û◊î ◊®◊ß ◊û◊¢◊ë◊ì◊ô◊ù ◊©◊û◊©◊™◊™◊§◊ô◊ù ◊ë◊©◊®◊©◊®◊™  Release-Acquire ◊û◊ë◊ò◊ô◊ó◊ô◊ù ◊°◊ì◊® ◊î◊§◊¶◊î ◊©◊ú ◊õ◊™◊ô◊ë◊ï◊™, ◊õ◊û◊ï ◊©◊î◊ï◊ñ◊õ◊® ◊ß◊ï◊ì◊ù ◊§◊¢◊ï◊ú◊ï◊™ release ◊û◊í◊ô◊¢◊ï◊™ ◊¢◊ù ◊û◊ê◊§◊ô◊ô◊ü A-cumulative, ◊ï◊ñ◊î ◊ë◊®◊ï◊® ◊ê◊ù ◊®◊ï◊ê◊ô◊ù ◊ê◊™ ◊î◊û◊ô◊û◊ï◊© ◊©◊ú release ◊ë-PPC, ◊î-<code>lwsync</code> ◊û◊í◊ô◊¢ ◊ú◊§◊†◊ô ◊î◊õ◊™◊ô◊ë◊î ◊ï◊û◊ê◊ú◊• ◊ê◊™ ◊õ◊ú ◊î◊õ◊™◊ô◊ë◊ï◊™ ◊©◊î◊™◊§◊©◊ò◊ï ◊ú◊û◊¢◊ë◊ì ◊©◊û◊ë◊¶◊¢ ◊ê◊™ ◊î◊û◊ó◊°◊ï◊ù ◊ú◊§◊†◊ô ◊ë◊ô◊¶◊ï◊¢ ◊î◊û◊ó◊°◊ï◊ù ◊ú◊î◊™◊§◊©◊ò ◊ú◊û◊¢◊ë◊ì ◊©◊ß◊ï◊®◊ê ◊ê◊™ ◊î◊¢◊®◊ö ◊©◊†◊õ◊™◊ë ◊¢◊ú ◊ô◊ì◊ô ◊î-release ◊õ◊ô ◊ú◊§◊†◊ô ◊©◊î◊ï◊ê ◊®◊ê◊î ◊ê◊™ ◊î◊¢◊®◊ö ◊î◊ï◊ê ◊î◊ô◊î ◊ó◊ô◊ô◊ë ◊ú◊ß◊ë◊ú ◊ê◊™ ◊î◊û◊ó◊°◊ï◊ù ◊ï◊ú◊§◊†◊ô ◊©◊î◊ï◊ê ◊ß◊ô◊ë◊ú ◊ê◊™ ◊î◊û◊ó◊°◊ï◊ù ◊î◊ï◊ê ◊î◊ô◊î ◊ó◊ô◊ô◊ë ◊ú◊ß◊ë◊ú ◊ê◊™ ◊õ◊ú ◊î◊õ◊™◊ô◊ë◊ï◊™ ◊©◊î◊™◊§◊©◊ò◊ï ◊ú◊û◊¢◊ë◊ì ◊©◊ë◊ô◊¶◊¢ ◊ê◊™ ◊î-release. ◊ë◊í◊ú◊ú ◊©◊î◊°◊ì◊® ◊©◊ú ◊î◊©◊®◊©◊®◊™ ◊û◊™◊ë◊°◊° ◊¢◊ú ◊î◊§◊¶◊î ◊©◊ú ◊î◊õ◊™◊ô◊ë◊ï◊™ ◊ë◊ô◊ü ◊î◊û◊¢◊ë◊ì◊ô◊ù ◊ë◊©◊®◊©◊®◊™ ◊ê◊ñ ◊û◊¢◊ë◊ì◊ô◊ù ◊û◊ó◊ï◊• ◊ú◊©◊®◊©◊®◊™ ◊ú◊ê ◊ë◊ò◊ï◊ó ◊ô◊ß◊ë◊ú◊ï ◊ê◊™ ◊î◊õ◊™◊ô◊ë◊ï◊™ ◊ë◊©◊®◊©◊®◊™.</p>
<h2 id="◊û◊ô◊û◊ï◊©-◊ë◊ß◊®◊†◊ú">
  ◊û◊ô◊û◊ï◊© ◊ë◊ß◊®◊†◊ú
  <a class="heading-link" href="#%d7%9e%d7%99%d7%9e%d7%95%d7%a9-%d7%91%d7%a7%d7%a8%d7%a0%d7%9c">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>◊ë◊ß◊®◊†◊ú ◊õ◊ë◊®◊ô◊®◊™ ◊û◊ó◊ì◊ú ◊î-<code>smp_load_acquire</code> ◊î◊ï◊ê ◊î◊ñ◊ï◊í <code>READ_ONCE() + smp_mb()</code> (◊õ◊ú◊ï◊û◊® <code>READ_ONCE</code> ◊ï◊ê◊ó◊®◊ô◊ï <code>smp_mb</code>).
◊î-<code>smp_load_acquire</code> ◊û◊ï◊í◊ì◊® ◊ë-<code>include/asm-generic/barrier.h</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="ln">1</span><span class="cl"> <span class="nf">__smp_load_acquire</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>						\
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="p">({</span>									\
</span></span><span class="line"><span class="ln">3</span><span class="cl">	<span class="nf">__unqual_scalar_typeof</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="n">___p1</span> <span class="o">=</span> <span class="nf">READ_ONCE</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">);</span>		\
</span></span><span class="line"><span class="ln">4</span><span class="cl">	<span class="nf">compiletime_assert_atomic_type</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">);</span>				\
</span></span><span class="line"><span class="ln">5</span><span class="cl">	<span class="nf">__smp_mb</span><span class="p">();</span>							\
</span></span><span class="line"><span class="ln">6</span><span class="cl">	<span class="p">(</span><span class="nf">typeof</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">))</span><span class="n">___p1</span><span class="p">;</span>						\
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>◊î◊©◊ô◊û◊ï◊© ◊ë◊î◊í◊ì◊®◊î ◊î◊ñ◊ê◊™ ◊î◊ô◊ê ◊î◊õ◊ú◊ú◊ô◊™ ◊ê◊ú◊î ◊ê◊ù ◊û◊ï◊í◊ì◊® ◊ú◊ê◊®◊õ◊ô◊ò◊ß◊ò◊ï◊®◊î ◊û◊°◊ï◊ô◊ô◊û◊™ ◊û◊ô◊û◊ï◊© ◊ê◊ó◊® ◊©◊ú <code>smp_load_acquire</code> ◊õ◊û◊ï ◊ë◊ó◊ú◊ß ◊û◊î◊û◊ß◊®◊ô◊ù (◊ú◊û◊©◊ú ◊ë-x86_64 ◊ï-aarch64) ◊©◊ë◊î◊ù ◊ô◊© ◊û◊ó◊°◊ï◊û◊ô◊ù ◊ß◊ú◊ô◊ù ◊ô◊ï◊™◊® ◊û◊î◊û◊ó◊°◊ï◊ù ◊î◊û◊ú◊ê◊î <code>smp_mb</code> ◊©◊û◊ë◊ò◊ô◊ó◊ô◊ù ◊ê◊™ ◊î◊î◊™◊†◊î◊í◊ï◊™ ◊î◊®◊¶◊ï◊ô◊î ◊ë-<code>acquire</code>.</p>
<hr>

      </div>


      <footer>
        
  <h3 dir="rtl">
    ◊û◊ß◊ï◊®◊ï◊™
  </h3>
  <ul dir="ltr">
  
    <li>
      <a href="https://developer.arm.com/documentation/102336/0100/Load-Acquire-and-Store-Release-instructions">https://developer.arm.com/documentation/102336/0100/Load-Acquire-and-Store-Release-instructions</a>
    </li>
  
    <li>
      <a href="https://preshing.com/20120913/acquire-and-release-semantics/">https://preshing.com/20120913/acquire-and-release-semantics/</a>
    </li>
  
    <li>
      <a href="https://preshing.com/20130922/acquire-and-release-fences">https://preshing.com/20130922/acquire-and-release-fences</a>
    </li>
  
    <li>
      <a href="https://www.kernel.org/doc/Documentation/memory-barriers.txt">https://www.kernel.org/doc/Documentation/memory-barriers.txt</a>
    </li>
  
    <li>
      <a href="https://lwn.net/Articles/827180/">https://lwn.net/Articles/827180/</a>
    </li>
  
    <li>
      <a href="http://infolab.stanford.edu/pub/cstr/reports/csl/tr/95/685/CSL-TR-95-685.pdf">http://infolab.stanford.edu/pub/cstr/reports/csl/tr/95/685/CSL-TR-95-685.pdf</a>
    </li>
  
    <li>
      <a href="https://en.wikipedia.org/wiki/Consistency_model">https://en.wikipedia.org/wiki/Consistency_model</a>
    </li>
  
    <li>
      <a href="https://documentation-service.arm.com/static/65fdad3c1bc22b03bca90781?token=">https://documentation-service.arm.com/static/65fdad3c1bc22b03bca90781?token=</a>
    </li>
  
    <li>
      <a href="https://lwn.net/Articles/847481/">https://lwn.net/Articles/847481/</a>
    </li>
  
    <li>
      <a href="https://developer.arm.com/documentation/100941/0101/Barriers">https://developer.arm.com/documentation/100941/0101/Barriers</a>
    </li>
  
    <li>
      <a href="https://github.com/torvalds/linux/blob/master/tools/memory-model/Documentation/ordering.txt">https://github.com/torvalds/linux/blob/master/tools/memory-model/Documentation/ordering.txt</a>
    </li>
  
    <li>
      <a href="https://github.com/torvalds/linux/blob/master/Documentation/core-api/refcount-vs-atomic.rst">https://github.com/torvalds/linux/blob/master/Documentation/core-api/refcount-vs-atomic.rst</a>
    </li>
  
    <li>
      <a href="https://github.com/torvalds/linux/blob/master/tools/memory-model/Documentation/recipes.txt">https://github.com/torvalds/linux/blob/master/tools/memory-model/Documentation/recipes.txt</a>
    </li>
  
    <li>
      <a href="https://www.kernel.org/doc/Documentation/atomic_bitops.txt">https://www.kernel.org/doc/Documentation/atomic_bitops.txt</a>
    </li>
  
    <li>
      <a href="http://www0.cs.ucl.ac.uk/staff/j.alglave/papers/toplas21.pdf">http://www0.cs.ucl.ac.uk/staff/j.alglave/papers/toplas21.pdf</a>
    </li>
  
    <li>
      <a href="https://krinkinmu.github.io/2024/04/20/arm-synchronization.html">https://krinkinmu.github.io/2024/04/20/arm-synchronization.html</a>
    </li>
  

        

<section class="see-also">
  
    
    
    
      <h3 id="◊®◊ï◊ê◊î-◊¢◊ï◊ì-◊ë-barriers" dir="rtl">        ◊®◊ï◊ê◊î ◊¢◊ï◊ì ◊ë barriers
        <a class="heading-link" href="#%d7%a8%d7%95%d7%90%d7%94-%d7%a2%d7%95%d7%93-%d7%91-barriers">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/he/posts/barriers/amba-ace-barrier/">AMBA ACE Barrier</a>
            </li>
          
        
          
        
          
            <li>
              <a href="/he/posts/barriers/mb/">mb</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script><style>
  .katex {
    direction: ltr;
    display: inline-flex;
    flex-direction: row-reverse;
    unicode-bidi: embed;
  }
</style>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
    2025
     Michael Shalitin 
    ¬∑
    
    ◊û◊ï◊§◊¢◊ú ◊¢◊ú ◊ô◊ì◊ô <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  
<script defer src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "316bf5f2576c4cb68b54c0b2a91cb739"}'></script>



  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
